[pytest]
# Only collect tests from the tests/ folder
testpaths = tests

# Test file patterns to collect
python_files = test_*.py *_test.py

# Add the current directory to the Python path
pythonpath = .

# Ignore these directories during test discovery
norecursedirs = node_modules __pycache__ .venv .git archive templates

# Show verbose output and collect coverage data for lib/
addopts = -vv --cov=lib/

# Set the default marker for tests
markers =
    unit: mark test as a unit test
    integration: mark test as an integration test
    slow: mark test as slow (typically skipped in CI)

# Configure JUnit XML report
junit_family = xunit2

# Coverage configuration
[coverage:run]
source = lib/cdk
omit = tests/*, setup.py, __init__.py, lib/cdk/__init__.py

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    raise NotImplementedError
    if __name__ == .__main__.:
