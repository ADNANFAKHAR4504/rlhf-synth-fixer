"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handler = void 0;
const client_dynamodb_1 = require("@aws-sdk/client-dynamodb");
const client_secrets_manager_1 = require("@aws-sdk/client-secrets-manager");
// Helper function to convert DynamoDB format to JavaScript object
function unmarshall(dynamoObj) {
    const unmarshalled = {};
    for (const [key, value] of Object.entries(dynamoObj)) {
        if (value && typeof value === 'object' && 'S' in value) {
            unmarshalled[key] = value.S;
        }
        else if (value && typeof value === 'object' && 'N' in value) {
            unmarshalled[key] = Number(value.N);
        }
        else if (value && typeof value === 'object' && 'BOOL' in value) {
            unmarshalled[key] = value.BOOL;
        }
        else if (value && typeof value === 'object' && 'NULL' in value) {
            unmarshalled[key] = null;
        }
        else if (value && typeof value === 'object' && 'L' in value) {
            unmarshalled[key] = value.L.map((item) => {
                if (typeof item === 'object' && item !== null) {
                    return unmarshall(item);
                }
                return item;
            });
        }
        else if (value && typeof value === 'object' && 'M' in value) {
            unmarshalled[key] = unmarshall(value.M);
        }
        else {
            unmarshalled[key] = value;
        }
    }
    return unmarshalled;
}
const dynamoClient = new client_dynamodb_1.DynamoDBClient({ region: 'us-west-2' });
const secretsClient = new client_secrets_manager_1.SecretsManagerClient({ region: 'us-west-2' });
const handler = async (event) => {
    console.log('Get Items function invoked', JSON.stringify(event, null, 2));
    try {
        // Verify access to secrets (demonstrates secrets manager integration)
        try {
            const secretCommand = new client_secrets_manager_1.GetSecretValueCommand({
                SecretId: process.env.SECRET_ARN,
            });
            await secretsClient.send(secretCommand);
            console.log('Successfully accessed application secrets');
        }
        catch (error) {
            console.error('Failed to access secrets:', error);
        }
        // Scan DynamoDB table for all items
        const scanCommand = new client_dynamodb_1.ScanCommand({
            TableName: process.env.TABLE_NAME,
        });
        const result = await dynamoClient.send(scanCommand);
        // Convert DynamoDB items to regular JavaScript objects
        const items = result.Items?.map((item) => unmarshall(item)) || [];
        console.log(`Retrieved ${items.length} items from DynamoDB`);
        return {
            statusCode: 200,
            headers: {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',
            },
            body: JSON.stringify({
                items: items,
                count: items.length,
            }),
        };
    }
    catch (error) {
        console.error('Error retrieving items:', error);
        return {
            statusCode: 500,
            headers: {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',
            },
            body: JSON.stringify({ error: 'Internal server error' }),
        };
    }
};
exports.handler = handler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0X2l0ZW0uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJnZXRfaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4REFJa0M7QUFDbEMsNEVBR3lDO0FBMEJ6QyxrRUFBa0U7QUFDbEUsU0FBUyxVQUFVLENBQ2pCLFNBQXlDO0lBRXpDLE1BQU0sWUFBWSxHQUE0QixFQUFFLENBQUM7SUFDakQsS0FBSyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztRQUNyRCxJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1lBQ3ZELFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzlCLENBQUM7YUFBTSxJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1lBQzlELFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLENBQUM7YUFBTSxJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksTUFBTSxJQUFJLEtBQUssRUFBRSxDQUFDO1lBQ2pFLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ2pDLENBQUM7YUFBTSxJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksTUFBTSxJQUFJLEtBQUssRUFBRSxDQUFDO1lBQ2pFLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDM0IsQ0FBQzthQUFNLElBQUksS0FBSyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsSUFBSSxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7WUFDOUQsWUFB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LEVBQUU7Z0JBQ1AsY0FBYyxFQUFFLGtCQUFrQjtnQkFDbEMsNkJBQTZCLEVBQUUsR0FBRzthQUNuQztZQUNELElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsS0FBSyxFQUFFLHVCQUF1QixFQUFFLENBQUM7U0FDekQsQ0FBQztJQUNKLENBQUM7QUFDSCxDQUFDLENBQUM7QUF2RFcsUUFBQSxPQUFPLFdBdURsQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEF0dHJpYnV0ZVZhbHVlLFxuICBEeW5hbW9EQkNsaWVudCxcbiAgU2NhbkNvbW1hbmQsXG59IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1keW5hbW9kYic7XG5pbXBvcnQge1xuICBHZXRTZWNyZXRWYWx1ZUNvbW1hbmQsXG4gIFNlY3JldHNNYW5hZ2VyQ2xpZW50LFxufSBmcm9tICdAYXdzLXNkay9jbGllbnQtc2VjcmV0cy1tYW5hZ2VyJztcblxuLy8gQ3VzdG9tIHR5cGUgZGVmaW5pdGlvbnMgZm9yIExhbWJkYSBldmVudHNcbmludGVyZmFjZSBBUElHYXRld2F5UHJveHlFdmVudCB7XG4gIGJvZHk/OiBzdHJpbmc7XG4gIGhlYWRlcnM/OiB7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgaHR0cE1ldGhvZDogc3RyaW5nO1xuICBwYXRoOiBzdHJpbmc7XG4gIHF1ZXJ5U3RyaW5nUGFyYW1ldGVycz86IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9O1xuICBwYXRoUGFyYW1ldGVycz86IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9O1xuICBzdGFnZVZhcmlhYmxlcz86IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9O1xuICByZXF1ZXN0Q29udGV4dDogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIHJlc291cmNlOiBzdHJpbmc7XG4gIG11bHRpVmFsdWVIZWFkZXJzPzogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nW10gfTtcbiAgbXVsdGlWYWx1ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycz86IHsgW25hbWU6IHN0cmluZ106IHN0cmluZ1tdIH07XG4gIGlzQmFzZTY0RW5jb2RlZDogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEFQSUdhdGV3YXlQcm94eVJlc3VsdCB7XG4gIHN0YXR1c0NvZGU6IG51bWJlcjtcbiAgaGVhZGVycz86IHsgW2hlYWRlcjogc3RyaW5nXTogYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB9O1xuICBtdWx0aVZhbHVlSGVhZGVycz86IHsgW2hlYWRlcjogc3RyaW5nXTogKGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcpW10gfTtcbiAgYm9keTogc3RyaW5nO1xuICBpc0Jhc2U2NEVuY29kZWQ/OiBib29sZWFuO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBEeW5hbW9EQiBmb3JtYXQgdG8gSmF2YVNjcmlwdCBvYmplY3RcbmZ1bmN0aW9uIHVubWFyc2hhbGwoXG4gIGR5bmFtb09iajogUmVjb3JkPHN0cmluZywgQXR0cmlidXRlVmFsdWU+XG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHVubWFyc2hhbGxlZDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZHluYW1vT2JqKSkge1xuICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICdTJyBpbiB2YWx1ZSkge1xuICAgICAgdW5tYXJzaGFsbGVkW2tleV0gPSB2YWx1ZS5TO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAnTicgaW4gdmFsdWUpIHtcbiAgICAgIHVubWFyc2hhbGxlZFtrZXldID0gTnVtYmVyKHZhbHVlLk4pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAnQk9PTCcgaW4gdmFsdWUpIHtcbiAgICAgIHVubWFyc2hhbGxlZFtrZXldID0gdmFsdWUuQk9PTDtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgJ05VTEwnIGluIHZhbHVlKSB7XG4gICAgICB1bm1hcnNoYWxsZWRba2V5XSA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICdMJyBpbiB2YWx1ZSkge1xuICAgICAgdW5tYXJzaGFsbGVkW2tleV0gPSAodmFsdWUgYXMgeyBMOiBBdHRyaWJ1dGVWYWx1ZVtdIH0pLkwubWFwKFxuICAgICAgICAoaXRlbTogQXR0cmlidXRlVmFsdWUpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bm1hcnNoYWxsKFxuICAgICAgICAgICAgICBpdGVtIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgQXR0cmlidXRlVmFsdWU+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgJ00nIGluIHZhbHVlKSB7XG4gICAgICB1bm1hcnNoYWxsZWRba2V5XSA9IHVubWFyc2hhbGwoXG4gICAgICAgICh2YWx1ZSBhcyB7IE06IFJlY29yZDxzdHJpbmcsIEF0dHJpYnV0ZVZhbHVlPiB9KS5NIGFzIHVua25vd24gYXMgUmVjb3JkPFxuICAgICAgICAgIHN0cmluZyxcbiAgICAgICAgICBBdHRyaWJ1dGVWYWx1ZVxuICAgICAgICA+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bm1hcnNoYWxsZWRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5tYXJzaGFsbGVkO1xufVxuXG5jb25zdCBkeW5hbW9DbGllbnQgPSBuZXcgRHluYW1vREJDbGllbnQoeyByZWdpb246ICd1cy13ZXN0LTInIH0pO1xuY29uc3Qgc2VjcmV0c0NsaWVudCA9IG5ldyBTZWNyZXRzTWFuYWdlckNsaWVudCh7IHJlZ2lvbjogJ3VzLXdlc3QtMicgfSk7XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVyID0gYXN5bmMgKFxuICBldmVudDogQVBJR2F0ZXdheVByb3h5RXZlbnRcbik6IFByb21pc2U8QVBJR2F0ZXdheVByb3h5UmVzdWx0PiA9PiB7XG4gIGNvbnNvbGUubG9nKCdHZXQgSXRlbXMgZnVuY3Rpb24gaW52b2tlZCcsIEpTT04uc3RyaW5naWZ5KGV2ZW50LCBudWxsLCAyKSk7XG5cbiAgdHJ5IHtcbiAgICAvLyBWZXJpZnkgYWNjZXNzIHRvIHNlY3JldHMgKGRlbW9uc3RyYXRlcyBzZWNyZXRzIG1hbmFnZXIgaW50ZWdyYXRpb24pXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlY3JldENvbW1hbmQgPSBuZXcgR2V0U2VjcmV0VmFsdWVDb21tYW5kKHtcbiAgICAgICAgU2VjcmV0SWQ6IHByb2Nlc3MuZW52LlNFQ1JFVF9BUk4sXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHNlY3JldHNDbGllbnQuc2VuZChzZWNyZXRDb21tYW5kKTtcbiAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgYWNjZXNzZWQgYXBwbGljYXRpb24gc2VjcmV0cycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gYWNjZXNzIHNlY3JldHM6JywgZXJyb3IpO1xuICAgIH1cblxuICAgIC8vIFNjYW4gRHluYW1vREIgdGFibGUgZm9yIGFsbCBpdGVtc1xuICAgIGNvbnN0IHNjYW5Db21tYW5kID0gbmV3IFNjYW5Db21tYW5kKHtcbiAgICAgIFRhYmxlTmFtZTogcHJvY2Vzcy5lbnYuVEFCTEVfTkFNRSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGR5bmFtb0NsaWVudC5zZW5kKHNjYW5Db21tYW5kKTtcblxuICAgIC8vIENvbnZlcnQgRHluYW1vREIgaXRlbXMgdG8gcmVndWxhciBKYXZhU2NyaXB0IG9iamVjdHNcbiAgICBjb25zdCBpdGVtcyA9XG4gICAgICByZXN1bHQuSXRlbXM/Lm1hcCgoaXRlbTogUmVjb3JkPHN0cmluZywgQXR0cmlidXRlVmFsdWU+KSA9PlxuICAgICAgICB1bm1hcnNoYWxsKGl0ZW0pXG4gICAgICApIHx8IFtdO1xuXG4gICAgY29uc29sZS5sb2coYFJldHJpZXZlZCAke2l0ZW1zLmxlbmd0aH0gaXRlbXMgZnJvbSBEeW5hbW9EQmApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgY291bnQ6IGl0ZW1zLmxlbmd0aCxcbiAgICAgIH0pLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmV0cmlldmluZyBpdGVtczonLCBlcnJvcik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzQ29kZTogNTAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pLFxuICAgIH07XG4gIH1cbn07XG4iXX0=