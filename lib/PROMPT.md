Generate a production-ready code to deploy a secure, scalable, serverless cloud environment. The solution must use AWS Lambda for compute, and IAM roles following the least privilege principle. All S3 buckets must have versioning and server-side encryption enabled, Create lambda  function using zip file. Lambda functions must have CloudWatch Logs and error handling, environment variables must be managed securely via AWS Secrets Manager, and CloudFront should serve content from S3. The infrastructure must be deployed in a VPC with defined CIDR blocks, optimized for cold starts, capable of handling 1,000 requests per second, and follow best practices for serverless architectures, ensuring modularity, maintainability, security, and scalability.