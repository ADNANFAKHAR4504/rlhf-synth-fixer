A SaaS provider needs a globally available REST API serving two million users with near-perfect uptime, seamless failover, and strong data consistency. The system must deliver low-latency responses worldwide, maintain GDPR compliance, synchronize data across regions, and include comprehensive analytics for operational visibility. Use AWS CDK in JavaScript (ES modules) to define and deploy this global API architecture.

Deploy API Gateway endpoints in **us-east-1** and **ap-south-1** regions, configured for cross-region failover via Route 53 latency-based routing. Back these endpoints with **Lambda functions** using provisioned concurrency to ensure predictable performance under load. Store global data in **DynamoDB Global Tables** to handle cross-region replication and consistency automatically. Use **S3 buckets** with cross-region replication to store shared assets and backups. Configure **EventBridge** to distribute application and operational events across regions and integrate alerting pipelines. Implement **CloudWatch Synthetics canaries** to monitor uptime and latency across endpoints globally, and apply **AWS WAF** to protect against common exploits like SQL injection and cross-site scripting. Use **QuickSight** for advanced analytics and usage visualization, while ensuring IAM roles and policies enforce least-privilege access across all components. All data must be encrypted both at rest and in transit, with tagging applied for ownership and compliance tracking. The response must include only the complete CDK JavaScript code (using `.mjs` files) for three files — `bin/tap.mjs`, `lib/tap-stack.mjs`, and `cdk.json` — and nothing else.
