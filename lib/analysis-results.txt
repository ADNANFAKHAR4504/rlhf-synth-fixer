2025-11-14 12:42:36,336 - INFO - Found credentials in shared credentials file: ~/.aws/credentials
2025-11-14 12:42:36,615 - INFO - Found 10 RDS instances to analyze
2025-11-14 12:42:36,615 - INFO - Analyzing db-underutilized-01...
2025-11-14 12:42:36,650 - INFO - Analyzing db-no-multiaz-prod-01...
2025-11-14 12:42:36,690 - INFO - Analyzing db-no-backups-01...
2025-11-14 12:42:36,722 - INFO - Analyzing db-burst-depleted-01...
2025-11-14 12:42:36,761 - INFO - Analyzing db-large-no-monitoring-01...
2025-11-14 12:42:36,794 - INFO - Analyzing db-sensitive-unencrypted-01...
2025-11-14 12:42:36,825 - INFO - Analyzing db-magnetic-storage-01...
2025-11-14 12:42:36,855 - INFO - Analyzing db-prod-no-insights-01...
2025-11-14 12:42:36,890 - INFO - Analyzing db-optimal-01...
2025-11-14 12:42:36,922 - INFO - Analyzing db-high-growth-01...
2025-11-14 12:42:36,981 - INFO - JSON report saved to rds_performance_report.json
2025-11-14 12:42:36,983 - INFO - Audit results saved to aws_audit_results.json
2025-11-14 12:42:37,339 - INFO - Rightsizing CSV saved to rds_rightsizing.csv
2025-11-14 12:42:37,683 - INFO - Performance distribution chart saved to performance_distribution.png
2025-11-14 12:42:37,684 - INFO - Analysis complete!

========================================================================================================================
RDS PERFORMANCE ANALYSIS REPORT
========================================================================================================================

INSTANCE OVERVIEW
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| DB Identifier               | Engine   | Instance Class   | Score   | Avg CPU   |   Avg Conn |   Issues | Savings/Mo   |
+=============================+==========+==================+=========+===========+============+==========+==============+
| db-underutilized-01         | postgres | db.m5.xlarge     | 65/100  | 15.0%     |          5 |        4 | $124.83      |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-no-multiaz-prod-01       | postgres | db.m5.large      | 50/100  | 35.0%     |         50 |        5 | $0.00        |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-no-backups-01            | mysql    | db.m5.large      | 50/100  | 25.0%     |          0 |        4 | $0.00        |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-burst-depleted-01        | mysql    | db.t3.medium     | 70/100  | 45.0%     |          0 |        3 | $0.00        |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-large-no-monitoring-01   | postgres | db.r5.xlarge     | 65/100  | 0.0%      |          0 |        4 | $0.00        |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-sensitive-unencrypted-01 | mysql    | db.m5.large      | 50/100  | 0.0%      |          0 |        4 | $0.00        |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-magnetic-storage-01      | postgres | db.m5.large      | 60/100  | 0.0%      |          0 |        4 | $0.00        |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-prod-no-insights-01      | postgres | db.m5.2xlarge    | 50/100  | 0.0%      |          0 |        5 | $249.66      |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-optimal-01               | postgres | db.m5.large      | 95/100  | 55.0%     |        120 |        1 | $0.00        |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+
| db-high-growth-01           | mysql    | db.m5.large      | 75/100  | 0.0%      |          0 |        3 | $0.00        |
+-----------------------------+----------+------------------+---------+-----------+------------+----------+--------------+


ISSUES BY SEVERITY

ðŸ”´ CRITICAL (Immediate Action Required)
+-----------------------------+----------------------+-----------------+------------------------------------------------+
| DB Identifier               | Issue Type           | Current Value   | Recommendation                                 |
+=============================+======================+=================+================================================+
| db-no-backups-01            | no_automated_backups | 0 days          | Enable automated backups with 7+ day retention |
+-----------------------------+----------------------+-----------------+------------------------------------------------+
| db-sensitive-unencrypted-01 | no_encryption        | Not encrypted   | Enable encryption at rest immediately          |
+-----------------------------+----------------------+-----------------+------------------------------------------------+

ðŸŸ  HIGH PRIORITY
+------------------------+------------------------+-----------------+--------------------------------------------------------+
| DB Identifier          | Issue Type             | Current Value   | Recommendation                                         |
+========================+========================+=================+========================================================+
| db-no-multiaz-prod-01  | missing_multi_az       | Disabled        | Enable Multi-AZ for high availability                  |
+------------------------+------------------------+-----------------+--------------------------------------------------------+
| db-burst-depleted-01   | burst_credit_depletion | 10.0%           | Upgrade to non-burstable instance class (e.g., m5, r5) |
+------------------------+------------------------+-----------------+--------------------------------------------------------+
| db-magnetic-storage-01 | inefficient_storage    | Magnetic        | Migrate to gp3 or io2 for better performance           |
+------------------------+------------------------+-----------------+--------------------------------------------------------+
| db-prod-no-insights-01 | missing_multi_az       | Disabled        | Enable Multi-AZ for high availability                  |
+------------------------+------------------------+-----------------+--------------------------------------------------------+

ðŸŸ¡ MEDIUM PRIORITY
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| DB Identifier             | Issue Type              | Current Value              | Recommendation                                                |
+===========================+=========================+============================+===============================================================+
| db-underutilized-01       | underutilized           | CPU: 15.0%, Connections: 5 | Consider downsizing instance class or consolidating workloads |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-underutilized-01       | outdated_engine         | 13.7                       | Update to latest version: 15.5                                |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-underutilized-01       | no_iam_auth             | Disabled                   | Enable IAM database authentication                            |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-no-multiaz-prod-01     | outdated_engine         | 13.7                       | Update to latest version: 15.5                                |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-no-multiaz-prod-01     | no_performance_insights | Disabled                   | Enable Performance Insights for query analysis                |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-no-multiaz-prod-01     | no_iam_auth             | Disabled                   | Enable IAM database authentication                            |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-no-backups-01          | outdated_engine         | 5.7.44                     | Update to latest version: 8.0.35                              |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-no-backups-01          | no_iam_auth             | Disabled                   | Enable IAM database authentication                            |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-burst-depleted-01      | no_iam_auth             | Disabled                   | Enable IAM database authentication                            |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+
| db-large-no-monitoring-01 | underutilized           | CPU: 0.0%, Connections: 0  | Consider downsizing instance class or consolidating workloads |
+---------------------------+-------------------------+----------------------------+---------------------------------------------------------------+


COST OPTIMIZATION RECOMMENDATIONS
+------------------------+-----------------+---------------------+----------------+------------------+--------------+
| DB Identifier          | Current Class   | Recommended Class   | Current Cost   | Optimized Cost   | Savings/Mo   |
+========================+=================+=====================+================+==================+==============+
| db-underutilized-01    | db.m5.xlarge    | db.m5.large         | $249.66        | $124.83          | $124.83      |
+------------------------+-----------------+---------------------+----------------+------------------+--------------+
| db-prod-no-insights-01 | db.m5.2xlarge   | db.m5.xlarge        | $499.32        | $249.66          | $249.66      |
+------------------------+-----------------+---------------------+----------------+------------------+--------------+


SUMMARY
+---------------------------------+----------+
| Total Instances Analyzed        | 10       |
+---------------------------------+----------+
| Total Issues Found              | 37       |
+---------------------------------+----------+
| Critical Issues                 | 2        |
+---------------------------------+----------+
| High Priority Issues            | 4        |
+---------------------------------+----------+
| Medium Priority Issues          | 21       |
+---------------------------------+----------+
| Average Performance Score       | 63.0/100 |
+---------------------------------+----------+
| Total Potential Monthly Savings | $374.49  |
+---------------------------------+----------+

========================================================================================================================
