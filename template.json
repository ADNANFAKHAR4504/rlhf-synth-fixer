{
  "Resources": {
    "SecureNetworkingSecureVPC073AE483": {
      "Type": "AWS::EC2::VPC",
      "Properties": {
        "CidrBlock": "10.0.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "secure-vpc"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/Resource"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet1SubnetCF185293": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.0.0.0/24",
        "MapPublicIpOnLaunch": true,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1/Subnet"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet1RouteTable18907376": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1/RouteTable"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet1RouteTableAssociation343C1645": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet1RouteTable18907376"
        },
        "SubnetId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet1SubnetCF185293"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1/RouteTableAssociation"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet1DefaultRouteCD58C6DA": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "SecureNetworkingSecureVPCIGW4C7B85B4"
        },
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet1RouteTable18907376"
        }
      },
      "DependsOn": [
        "SecureNetworkingSecureVPCVPCGWD61735ED"
      ],
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1/DefaultRoute"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet1EIP96997F1E": {
      "Type": "AWS::EC2::EIP",
      "Properties": {
        "Domain": "vpc",
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1/EIP"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet1NATGatewayFA532742": {
      "Type": "AWS::EC2::NatGateway",
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "SecureNetworkingSecureVPCPublicSubnet1EIP96997F1E",
            "AllocationId"
          ]
        },
        "SubnetId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet1SubnetCF185293"
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "DependsOn": [
        "SecureNetworkingSecureVPCPublicSubnet1DefaultRouteCD58C6DA",
        "SecureNetworkingSecureVPCPublicSubnet1RouteTableAssociation343C1645"
      ],
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet1/NATGateway"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet2SubnetEE81EFA3": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "AvailabilityZone": "us-east-1b",
        "CidrBlock": "10.0.1.0/24",
        "MapPublicIpOnLaunch": true,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet2"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet2/Subnet"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet2RouteTable02EEE5CA": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet2"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet2/RouteTable"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet2RouteTableAssociation639773AF": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet2RouteTable02EEE5CA"
        },
        "SubnetId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet2SubnetEE81EFA3"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet2/RouteTableAssociation"
      }
    },
    "SecureNetworkingSecureVPCPublicSubnet2DefaultRoute7958C0BD": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "SecureNetworkingSecureVPCIGW4C7B85B4"
        },
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet2RouteTable02EEE5CA"
        }
      },
      "DependsOn": [
        "SecureNetworkingSecureVPCVPCGWD61735ED"
      ],
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PublicSubnet2/DefaultRoute"
      }
    },
    "SecureNetworkingSecureVPCPrivateSubnet1Subnet6F3EC960": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.0.2.0/24",
        "MapPublicIpOnLaunch": false,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet1"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet1/Subnet"
      }
    },
    "SecureNetworkingSecureVPCPrivateSubnet1RouteTableD16591CC": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet1"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet1/RouteTable"
      }
    },
    "SecureNetworkingSecureVPCPrivateSubnet1RouteTableAssociation376E85F1": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCPrivateSubnet1RouteTableD16591CC"
        },
        "SubnetId": {
          "Ref": "SecureNetworkingSecureVPCPrivateSubnet1Subnet6F3EC960"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet1/RouteTableAssociation"
      }
    },
    "SecureNetworkingSecureVPCPrivateSubnet1DefaultRoute3FA1D1D5": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet1NATGatewayFA532742"
        },
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCPrivateSubnet1RouteTableD16591CC"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet1/DefaultRoute"
      }
    },
    "SecureNetworkingSecureVPCPrivateSubnet2Subnet4787D1C4": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "AvailabilityZone": "us-east-1b",
        "CidrBlock": "10.0.3.0/24",
        "MapPublicIpOnLaunch": false,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet2"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet2/Subnet"
      }
    },
    "SecureNetworkingSecureVPCPrivateSubnet2RouteTableE10951F2": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet2"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet2/RouteTable"
      }
    },
    "SecureNetworkingSecureVPCPrivateSubnet2RouteTableAssociation11A89CC1": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCPrivateSubnet2RouteTableE10951F2"
        },
        "SubnetId": {
          "Ref": "SecureNetworkingSecureVPCPrivateSubnet2Subnet4787D1C4"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet2/RouteTableAssociation"
      }
    },
    "SecureNetworkingSecureVPCPrivateSubnet2DefaultRoute345BDF7A": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": {
          "Ref": "SecureNetworkingSecureVPCPublicSubnet1NATGatewayFA532742"
        },
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCPrivateSubnet2RouteTableE10951F2"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/PrivateSubnet2/DefaultRoute"
      }
    },
    "SecureNetworkingSecureVPCDatabaseSubnet1SubnetF81AF2A6": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.0.4.0/24",
        "MapPublicIpOnLaunch": false,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Database"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Isolated"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet1"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet1/Subnet"
      }
    },
    "SecureNetworkingSecureVPCDatabaseSubnet1RouteTable74B92822": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet1"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet1/RouteTable"
      }
    },
    "SecureNetworkingSecureVPCDatabaseSubnet1RouteTableAssociation47B1822D": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCDatabaseSubnet1RouteTable74B92822"
        },
        "SubnetId": {
          "Ref": "SecureNetworkingSecureVPCDatabaseSubnet1SubnetF81AF2A6"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet1/RouteTableAssociation"
      }
    },
    "SecureNetworkingSecureVPCDatabaseSubnet2Subnet8E46A379": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "AvailabilityZone": "us-east-1b",
        "CidrBlock": "10.0.5.0/24",
        "MapPublicIpOnLaunch": false,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Database"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Isolated"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet2"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet2/Subnet"
      }
    },
    "SecureNetworkingSecureVPCDatabaseSubnet2RouteTableA7203690": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet2"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet2/RouteTable"
      }
    },
    "SecureNetworkingSecureVPCDatabaseSubnet2RouteTableAssociationBC5BC61A": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "SecureNetworkingSecureVPCDatabaseSubnet2RouteTableA7203690"
        },
        "SubnetId": {
          "Ref": "SecureNetworkingSecureVPCDatabaseSubnet2Subnet8E46A379"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/DatabaseSubnet2/RouteTableAssociation"
      }
    },
    "SecureNetworkingSecureVPCIGW4C7B85B4": {
      "Type": "AWS::EC2::InternetGateway",
      "Properties": {
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "secure-vpc"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/IGW"
      }
    },
    "SecureNetworkingSecureVPCVPCGWD61735ED": {
      "Type": "AWS::EC2::VPCGatewayAttachment",
      "Properties": {
        "InternetGatewayId": {
          "Ref": "SecureNetworkingSecureVPCIGW4C7B85B4"
        },
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/VPCGW"
      }
    },
    "SecureNetworkingSecureVPCRestrictDefaultSecurityGroupCustomResourceE4683F52": {
      "Type": "Custom::VpcRestrictDefaultSG",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "CustomVpcRestrictDefaultSGCustomResourceProviderHandlerDC833E5E",
            "Arn"
          ]
        },
        "DefaultSecurityGroupId": {
          "Fn::GetAtt": [
            "SecureNetworkingSecureVPC073AE483",
            "DefaultSecurityGroup"
          ]
        },
        "Account": "086440326438"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/RestrictDefaultSecurityGroupCustomResource/Default"
      }
    },
    "SecureNetworkingSecureVPCS3EndpointFE94469A": {
      "Type": "AWS::EC2::VPCEndpoint",
      "Properties": {
        "RouteTableIds": [
          {
            "Ref": "SecureNetworkingSecureVPCPrivateSubnet1RouteTableD16591CC"
          },
          {
            "Ref": "SecureNetworkingSecureVPCPrivateSubnet2RouteTableE10951F2"
          },
          {
            "Ref": "SecureNetworkingSecureVPCDatabaseSubnet1RouteTable74B92822"
          },
          {
            "Ref": "SecureNetworkingSecureVPCDatabaseSubnet2RouteTableA7203690"
          }
        ],
        "ServiceName": {
          "Fn::Join": [
            "",
            [
              "com.amazonaws.",
              {
                "Ref": "AWS::Region"
              },
              ".s3"
            ]
          ]
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "secure-vpc"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcEndpointType": "Gateway",
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureVPC/S3Endpoint/Resource"
      }
    },
    "SecureNetworkingSecureSecurityGroupE76B383B": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Secure security group with restricted access",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow HTTPS outbound",
            "FromPort": 443,
            "IpProtocol": "tcp",
            "ToPort": 443
          },
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow HTTP outbound for updates",
            "FromPort": 80,
            "IpProtocol": "tcp",
            "ToPort": 80
          }
        ],
        "SecurityGroupIngress": [
          {
            "CidrIp": "10.0.0.0/16",
            "Description": "Allow SSH from VPC only",
            "FromPort": 22,
            "IpProtocol": "tcp",
            "ToPort": 22
          }
        ],
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/SecureSecurityGroup/Resource"
      }
    },
    "SecureNetworkingVPCFlowLogIAMRoleF4633BF8": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "vpc-flow-logs.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/VPCFlowLog"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/VPCFlowLog/IAMRole/Resource"
      }
    },
    "SecureNetworkingVPCFlowLogIAMRoleDefaultPolicy0BBD0FC2": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "logs:CreateLogStream",
                "logs:DescribeLogStreams",
                "logs:PutLogEvents"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "SecureNetworkingVPCFlowLogLogGroup49DA170C",
                  "Arn"
                ]
              }
            },
            {
              "Action": "iam:PassRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "SecureNetworkingVPCFlowLogIAMRoleF4633BF8",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "SecureNetworkingVPCFlowLogIAMRoleDefaultPolicy0BBD0FC2",
        "Roles": [
          {
            "Ref": "SecureNetworkingVPCFlowLogIAMRoleF4633BF8"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/VPCFlowLog/IAMRole/DefaultPolicy/Resource"
      }
    },
    "SecureNetworkingVPCFlowLogLogGroup49DA170C": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "RetentionInDays": 731,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/VPCFlowLog"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/VPCFlowLog/LogGroup/Resource"
      }
    },
    "SecureNetworkingVPCFlowLog3E050930": {
      "Type": "AWS::EC2::FlowLog",
      "Properties": {
        "DeliverLogsPermissionArn": {
          "Fn::GetAtt": [
            "SecureNetworkingVPCFlowLogIAMRoleF4633BF8",
            "Arn"
          ]
        },
        "LogDestinationType": "cloud-watch-logs",
        "LogGroupName": {
          "Ref": "SecureNetworkingVPCFlowLogLogGroup49DA170C"
        },
        "ResourceId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        },
        "ResourceType": "VPC",
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "TapStackdev/SecureNetworking/VPCFlowLog"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "TrafficType": "ALL"
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureNetworking/VPCFlowLog/FlowLog"
      }
    },
    "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Version": "2012-10-17",
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ]
        },
        "ManagedPolicyArns": [
          {
            "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
          }
        ],
        "Policies": [
          {
            "PolicyName": "Inline",
            "PolicyDocument": {
              "Version": "2012-10-17",
              "Statement": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "ec2:AuthorizeSecurityGroupIngress",
                    "ec2:AuthorizeSecurityGroupEgress",
                    "ec2:RevokeSecurityGroupIngress",
                    "ec2:RevokeSecurityGroupEgress"
                  ],
                  "Resource": [
                    {
                      "Fn::Join": [
                        "",
                        [
                          "arn:aws:ec2:us-east-1:086440326438:security-group/",
                          {
                            "Fn::GetAtt": [
                              "SecureNetworkingSecureVPC073AE483",
                              "DefaultSecurityGroup"
                            ]
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            }
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role"
      }
    },
    "CustomVpcRestrictDefaultSGCustomResourceProviderHandlerDC833E5E": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-086440326438-us-east-1",
          "S3Key": "7fa1e366ee8a9ded01fc355f704cff92bfd179574e6f9cfee800a3541df1b200.zip"
        },
        "Timeout": 900,
        "MemorySize": 128,
        "Handler": "__entrypoint__.handler",
        "Role": {
          "Fn::GetAtt": [
            "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0",
            "Arn"
          ]
        },
        "Runtime": "nodejs22.x",
        "Description": "Lambda function for removing all inbound/outbound rules from the VPC default security group"
      },
      "DependsOn": [
        "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0"
      ],
      "Metadata": {
        "aws:cdk:path": "TapStackdev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler",
        "aws:asset:path": "asset.7fa1e366ee8a9ded01fc355f704cff92bfd179574e6f9cfee800a3541df1b200",
        "aws:asset:property": "Code"
      }
    },
    "DataBucketS3EncryptionKeyFB777E2B": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "Description": {
          "Fn::Join": [
            "",
            [
              "KMS key for S3 bucket secure-data-bucket-",
              {
                "Ref": "AWS::AccountId"
              }
            ]
          ]
        },
        "EnableKeyRotation": true,
        "KeyPolicy": {
          "Statement": [
            {
              "Action": "kms:*",
              "Effect": "Allow",
              "Principal": {
                "AWS": "arn:aws:iam::086440326438:root"
              },
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/DataBucket/S3EncryptionKey/Resource"
      }
    },
    "DataBucketSecureBucket6F88D022": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "KMSMasterKeyID": {
                  "Fn::GetAtt": [
                    "DataBucketS3EncryptionKeyFB777E2B",
                    "Arn"
                  ]
                },
                "SSEAlgorithm": "aws:kms"
              }
            }
          ]
        },
        "BucketName": {
          "Fn::Join": [
            "",
            [
              "secure-data-bucket-",
              {
                "Ref": "AWS::AccountId"
              }
            ]
          ]
        },
        "LifecycleConfiguration": {
          "Rules": [
            {
              "AbortIncompleteMultipartUpload": {
                "DaysAfterInitiation": 7
              },
              "Id": "DeleteIncompleteMultipartUploads",
              "Status": "Enabled"
            },
            {
              "Id": "TransitionToIA",
              "Status": "Enabled",
              "Transitions": [
                {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 30
                }
              ]
            }
          ]
        },
        "LoggingConfiguration": {
          "LogFilePrefix": "access-logs/"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VersioningConfiguration": {
          "Status": "Enabled"
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/DataBucket/SecureBucket/Resource"
      }
    },
    "DataBucketSecureBucketPolicyAF176BAE": {
      "Type": "AWS::S3::BucketPolicy",
      "Properties": {
        "Bucket": {
          "Ref": "DataBucketSecureBucket6F88D022"
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "s3:*",
              "Condition": {
                "Bool": {
                  "aws:SecureTransport": "false"
                }
              },
              "Effect": "Deny",
              "Principal": {
                "AWS": "*"
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "DataBucketSecureBucket6F88D022",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "DataBucketSecureBucket6F88D022",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:PutObject",
              "Condition": {
                "ArnLike": {
                  "aws:SourceArn": {
                    "Fn::GetAtt": [
                      "DataBucketSecureBucket6F88D022",
                      "Arn"
                    ]
                  }
                },
                "StringEquals": {
                  "aws:SourceAccount": "086440326438"
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Service": "logging.s3.amazonaws.com"
              },
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "DataBucketSecureBucket6F88D022",
                        "Arn"
                      ]
                    },
                    "/access-logs/*"
                  ]
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/DataBucket/SecureBucket/Policy/Resource"
      }
    },
    "LogsBucketS3EncryptionKeyE7E7536A": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "Description": {
          "Fn::Join": [
            "",
            [
              "KMS key for S3 bucket secure-logs-bucket-",
              {
                "Ref": "AWS::AccountId"
              }
            ]
          ]
        },
        "EnableKeyRotation": true,
        "KeyPolicy": {
          "Statement": [
            {
              "Action": "kms:*",
              "Effect": "Allow",
              "Principal": {
                "AWS": "arn:aws:iam::086440326438:root"
              },
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/LogsBucket/S3EncryptionKey/Resource"
      }
    },
    "LogsBucketSecureBucketDFB67CE4": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "KMSMasterKeyID": {
                  "Fn::GetAtt": [
                    "LogsBucketS3EncryptionKeyE7E7536A",
                    "Arn"
                  ]
                },
                "SSEAlgorithm": "aws:kms"
              }
            }
          ]
        },
        "BucketName": {
          "Fn::Join": [
            "",
            [
              "secure-logs-bucket-",
              {
                "Ref": "AWS::AccountId"
              }
            ]
          ]
        },
        "LifecycleConfiguration": {
          "Rules": [
            {
              "AbortIncompleteMultipartUpload": {
                "DaysAfterInitiation": 7
              },
              "Id": "DeleteIncompleteMultipartUploads",
              "Status": "Enabled"
            },
            {
              "Id": "TransitionToIA",
              "Status": "Enabled",
              "Transitions": [
                {
                  "StorageClass": "STANDARD_IA",
                  "TransitionInDays": 30
                }
              ]
            }
          ]
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VersioningConfiguration": {
          "Status": "Enabled"
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/LogsBucket/SecureBucket/Resource"
      }
    },
    "LogsBucketSecureBucketPolicyBAC29899": {
      "Type": "AWS::S3::BucketPolicy",
      "Properties": {
        "Bucket": {
          "Ref": "LogsBucketSecureBucketDFB67CE4"
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "s3:*",
              "Condition": {
                "Bool": {
                  "aws:SecureTransport": "false"
                }
              },
              "Effect": "Deny",
              "Principal": {
                "AWS": "*"
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "LogsBucketSecureBucketDFB67CE4",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "LogsBucketSecureBucketDFB67CE4",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/LogsBucket/SecureBucket/Policy/Resource"
      }
    },
    "SecureDatabaseRDSEncryptionKeyFF451A26": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "Description": "KMS key for RDS instance secure-postgres-instance",
        "EnableKeyRotation": true,
        "KeyPolicy": {
          "Statement": [
            {
              "Action": "kms:*",
              "Effect": "Allow",
              "Principal": {
                "AWS": "arn:aws:iam::086440326438:root"
              },
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/RDSEncryptionKey/Resource"
      }
    },
    "SecureDatabaseDatabaseSubnetGroupAC4A5E2E": {
      "Type": "AWS::RDS::DBSubnetGroup",
      "Properties": {
        "DBSubnetGroupDescription": "Subnet group for secure RDS instance",
        "SubnetIds": [
          {
            "Ref": "SecureNetworkingSecureVPCDatabaseSubnet1SubnetF81AF2A6"
          },
          {
            "Ref": "SecureNetworkingSecureVPCDatabaseSubnet2Subnet8E46A379"
          }
        ],
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/DatabaseSubnetGroup/Default"
      }
    },
    "SecureDatabaseDatabaseParameterGroupA453B9D3": {
      "Type": "AWS::RDS::DBParameterGroup",
      "Properties": {
        "Description": "Secure parameter group for PostgreSQL",
        "Family": "postgres15",
        "Parameters": {
          "log_statement": "all",
          "log_min_duration_statement": "1000",
          "shared_preload_libraries": "pg_stat_statements",
          "ssl": "1",
          "log_connections": "1",
          "log_disconnections": "1"
        },
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/DatabaseParameterGroup/Resource"
      }
    },
    "SecureDatabaseRDSSecurityGroup023B830F": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Security group for RDS instance",
        "SecurityGroupEgress": [
          {
            "CidrIp": "255.255.255.255/32",
            "Description": "Disallow all traffic",
            "FromPort": 252,
            "IpProtocol": "icmp",
            "ToPort": 86
          }
        ],
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VpcId": {
          "Ref": "SecureNetworkingSecureVPC073AE483"
        }
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/RDSSecurityGroup/Resource"
      }
    },
    "SecureDatabaseRDSSecurityGroupfromTapStackdevSecureNetworkingSecureSecurityGroup4FACA5E454329D2AD43C": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "Description": "Allow PostgreSQL access from application",
        "FromPort": 5432,
        "GroupId": {
          "Fn::GetAtt": [
            "SecureDatabaseRDSSecurityGroup023B830F",
            "GroupId"
          ]
        },
        "IpProtocol": "tcp",
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "SecureNetworkingSecureSecurityGroupE76B383B",
            "GroupId"
          ]
        },
        "ToPort": 5432
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/RDSSecurityGroup/from TapStackdevSecureNetworkingSecureSecurityGroup4FACA5E4:5432"
      }
    },
    "SecureDatabaseMonitoringRole85F0A8C7": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "monitoring.rds.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AmazonRDSEnhancedMonitoringRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/SecureDatabase/MonitoringRole/Resource"
      }
    },
    "TapStackdevSecureDatabaseSecret377252887fd7135fd4950942177406f85444b801": {
      "Type": "AWS::SecretsManager::Secret",
      "Properties": {
        "Description": {
          "Fn::Join": [
            "",
            [
              "Generated by the CDK for stack: ",
              {
                "Ref": "AWS::StackName"
              }
            ]
          ]
        },
        "GenerateSecretString": {
          "ExcludeCharacters": "\"@/\\'",
          "GenerateStringKey": "password",
          "PasswordLength": 30,
          "SecretStringTemplate": "{\"username\":\"postgres\"}"
        },
        "Name": "secure-postgres-instance-credentials",
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/SecureDatabase/Secret/Resource"
      }
    },
    "SecureDatabaseSecretAttachment83C8B297": {
      "Type": "AWS::SecretsManager::SecretTargetAttachment",
      "Properties": {
        "SecretId": {
          "Ref": "TapStackdevSecureDatabaseSecret377252887fd7135fd4950942177406f85444b801"
        },
        "TargetId": {
          "Ref": "SecureDatabase3BA930E1"
        },
        "TargetType": "AWS::RDS::DBInstance"
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/SecureDatabase/Secret/Attachment/Resource"
      }
    },
    "SecureDatabase3BA930E1": {
      "Type": "AWS::RDS::DBInstance",
      "Properties": {
        "AllocatedStorage": "100",
        "AutoMinorVersionUpgrade": true,
        "BackupRetentionPeriod": 7,
        "CopyTagsToSnapshot": true,
        "DBInstanceClass": "db.t3.micro",
        "DBInstanceIdentifier": "secure-postgres-instance",
        "DBName": "securedb",
        "DBParameterGroupName": {
          "Ref": "SecureDatabaseDatabaseParameterGroupA453B9D3"
        },
        "DBSubnetGroupName": {
          "Ref": "SecureDatabaseDatabaseSubnetGroupAC4A5E2E"
        },
        "DeleteAutomatedBackups": false,
        "DeletionProtection": true,
        "EnableCloudwatchLogsExports": [
          "postgresql"
        ],
        "EnablePerformanceInsights": true,
        "Engine": "postgres",
        "EngineVersion": "15.3",
        "KmsKeyId": {
          "Fn::GetAtt": [
            "SecureDatabaseRDSEncryptionKeyFF451A26",
            "Arn"
          ]
        },
        "MasterUserPassword": {
          "Fn::Join": [
            "",
            [
              "{{resolve:secretsmanager:",
              {
                "Ref": "TapStackdevSecureDatabaseSecret377252887fd7135fd4950942177406f85444b801"
              },
              ":SecretString:password::}}"
            ]
          ]
        },
        "MasterUsername": "postgres",
        "MonitoringInterval": 60,
        "MonitoringRoleArn": {
          "Fn::GetAtt": [
            "SecureDatabaseMonitoringRole85F0A8C7",
            "Arn"
          ]
        },
        "MultiAZ": false,
        "PerformanceInsightsKMSKeyId": {
          "Fn::GetAtt": [
            "SecureDatabaseRDSEncryptionKeyFF451A26",
            "Arn"
          ]
        },
        "PerformanceInsightsRetentionPeriod": 7,
        "StorageEncrypted": true,
        "StorageType": "gp2",
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "VPCSecurityGroups": [
          {
            "Fn::GetAtt": [
              "SecureDatabaseRDSSecurityGroup023B830F",
              "GroupId"
            ]
          }
        ]
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/SecureDatabase/Resource"
      }
    },
    "SecureDatabaseRDSLogGroupF59AE0F4": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/rds/instance/secure-postgres-instance/postgresql",
        "RetentionInDays": 30,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureDatabase/RDSLogGroup/Resource"
      }
    },
    "SecureIAMIAMRoleLogGroupF06544AA": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "/aws/iam/roles/secure-application-role",
        "RetentionInDays": 365,
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureIAM/IAMRoleLogGroup/Resource"
      }
    },
    "SecureIAMSecureRole03F27C8E": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "ec2.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Description": "Secure role with least privilege access",
        "MaxSessionDuration": 3600,
        "RoleName": "secure-application-role",
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureIAM/SecureRole/Resource"
      }
    },
    "SecureIAMSecureRoleDefaultPolicyA7474568": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:DescribeLogStreams",
                "logs:PutLogEvents"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "SecureIAMIAMRoleLogGroupF06544AA",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "s3:DeleteObject",
                "s3:GetObject",
                "s3:GetObjectVersion",
                "s3:ListBucket",
                "s3:PutObject"
              ],
              "Condition": {
                "Bool": {
                  "aws:SecureTransport": "true"
                }
              },
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "DataBucketSecureBucket6F88D022",
                    "Arn"
                  ]
                },
                {
                  "Fn::GetAtt": [
                    "LogsBucketSecureBucketDFB67CE4",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "DataBucketSecureBucket6F88D022",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "LogsBucketSecureBucketDFB67CE4",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "rds-db:connect",
                "rds:DescribeDBClusters",
                "rds:DescribeDBInstances"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:rds:us-east-1:086440326438:db:",
                    {
                      "Ref": "SecureDatabase3BA930E1"
                    }
                  ]
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "SecureIAMSecureRoleDefaultPolicyA7474568",
        "Roles": [
          {
            "Ref": "SecureIAMSecureRole03F27C8E"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureIAM/SecureRole/DefaultPolicy/Resource"
      }
    },
    "SecureIAMSecureUser4ABD1FF8": {
      "Type": "AWS::IAM::User",
      "Properties": {
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/IAMUserChangePassword"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "Author",
            "Value": "unknown"
          },
          {
            "Key": "Environment",
            "Value": "dev"
          },
          {
            "Key": "Repository",
            "Value": "unknown"
          }
        ],
        "UserName": "secure-user"
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureIAM/SecureUser/Resource"
      }
    },
    "SecureIAMMFARequiredPolicy3489C670": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "iam:GetAccountPasswordPolicy",
                "iam:GetUser",
                "iam:ListMFADevices",
                "iam:ListVirtualMFADevices"
              ],
              "Effect": "Allow",
              "Resource": "*",
              "Sid": "AllowViewAccountInfo"
            },
            {
              "Action": [
                "iam:ChangePassword",
                "iam:GetUser"
              ],
              "Effect": "Allow",
              "Resource": "arn:aws:iam::*:user/${aws:username}",
              "Sid": "AllowManageOwnPasswords"
            },
            {
              "Action": [
                "iam:CreateVirtualMFADevice",
                "iam:DeleteVirtualMFADevice",
                "iam:EnableMFADevice",
                "iam:ListMFADevices",
                "iam:ResyncMFADevice"
              ],
              "Effect": "Allow",
              "Resource": [
                "arn:aws:iam::*:mfa/${aws:username}",
                "arn:aws:iam::*:user/${aws:username}"
              ],
              "Sid": "AllowManageOwnMFA"
            },
            {
              "NotAction": [
                "iam:CreateVirtualMFADevice",
                "iam:EnableMFADevice",
                "iam:GetUser",
                "iam:ListMFADevices",
                "iam:ListVirtualMFADevices",
                "iam:ResyncMFADevice",
                "sts:GetSessionToken",
                "iam:ChangePassword"
              ],
              "Condition": {
                "BoolIfExists": {
                  "aws:MultiFactorAuthPresent": "false"
                }
              },
              "Effect": "Deny",
              "Resource": "*",
              "Sid": "DenyAllExceptUnlessSignedInWithMFA"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "RequireMFAPolicy",
        "Users": [
          {
            "Ref": "SecureIAMSecureUser4ABD1FF8"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/SecureIAM/MFARequiredPolicy/Resource"
      }
    },
    "CDKMetadata": {
      "Type": "AWS::CDK::Metadata",
      "Properties": {
        "Analytics": "v2:deflate64:H4sIAAAAAAAA/11RS2/bMAz+Lb0rWpb1smMebRG0aI24y3WgZdZTY0uGSCUIBP33wZZruzl9D34SKWolV8t7ubyDCy1UeVrUupAhZ1AnARf6G1CtZDi2Smw/zDHbiswXtVa5Lwxy503sYD3jOxQ1Tv7krYms0sDamjHckYd91sEr8BMwXuAqMqfPwDhdvDeMzuAYSJMMas0M6l+DhsXgHFv1YMrWasNDdJQ5Ku80X5+c9W0/5TfjsbaXF1t1hRn9ltmbyiFRFBoaGQ42PbbHzNZa9dMN7A+h62SHUdS2IhlebDU2/+JRnBqS4Rn7w894jYJ+ybDx6pQWMLAEU5u5jsKVJENa2thht5kbGThokNHN6jfeDhgKINwbYjAKRyNH5dIwu81XMQrqXWrAQIVOhrStLpjgHVyFPPuiMXBbiVEckKx3CsXWE9tmkh9mzt88t55vQpmzZ12i2wChWBMh5wyVNlUUxpYoP+nHebWUP3/L+7tP0nrhvGHdoDwk/A/F8p39BgMAAA=="
      },
      "Metadata": {
        "aws:cdk:path": "TapStackdev/CDKMetadata/Default"
      }
    }
  },
  "Outputs": {
    "SecureNetworkingVpcId6C93C42B": {
      "Description": "VPC ID",
      "Value": {
        "Ref": "SecureNetworkingSecureVPC073AE483"
      }
    },
    "SecureNetworkingS3EndpointIdCFF9B66A": {
      "Description": "S3 VPC Endpoint ID",
      "Value": {
        "Ref": "SecureNetworkingSecureVPCS3EndpointFE94469A"
      }
    },
    "DataBucketBucketArn52AB4E8A": {
      "Description": {
        "Fn::Join": [
          "",
          [
            "ARN of the secure S3 bucket secure-data-bucket-",
            {
              "Ref": "AWS::AccountId"
            }
          ]
        ]
      },
      "Value": {
        "Fn::GetAtt": [
          "DataBucketSecureBucket6F88D022",
          "Arn"
        ]
      }
    },
    "LogsBucketBucketArnD201227B": {
      "Description": {
        "Fn::Join": [
          "",
          [
            "ARN of the secure S3 bucket secure-logs-bucket-",
            {
              "Ref": "AWS::AccountId"
            }
          ]
        ]
      },
      "Value": {
        "Fn::GetAtt": [
          "LogsBucketSecureBucketDFB67CE4",
          "Arn"
        ]
      }
    },
    "SecureDatabaseDatabaseEndpointB38B5A2E": {
      "Description": "RDS instance endpoint",
      "Value": {
        "Fn::GetAtt": [
          "SecureDatabase3BA930E1",
          "Endpoint.Address"
        ]
      }
    },
    "SecureDatabaseDatabaseArnDAE8AB4D": {
      "Description": "RDS instance ARN",
      "Value": {
        "Fn::Join": [
          "",
          [
            "arn:aws:rds:us-east-1:086440326438:db:",
            {
              "Ref": "SecureDatabase3BA930E1"
            }
          ]
        ]
      }
    },
    "SecureIAMUserArn1FD34835": {
      "Description": "ARN of the secure IAM user secure-user",
      "Value": {
        "Fn::GetAtt": [
          "SecureIAMSecureUser4ABD1FF8",
          "Arn"
        ]
      }
    },
    "SecureIAMRoleArn6ABB07AF": {
      "Description": "ARN of the secure IAM role secure-application-role",
      "Value": {
        "Fn::GetAtt": [
          "SecureIAMSecureRole03F27C8E",
          "Arn"
        ]
      }
    },
    "StackRegion": {
      "Description": "Stack deployment region",
      "Value": "us-east-1"
    },
    "SecurityCompliance": {
      "Description": "Security compliance status",
      "Value": "All security requirements implemented"
    }
  },
  "Parameters": {
    "BootstrapVersion": {
      "Type": "AWS::SSM::Parameter::Value<String>",
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
    }
  }
}
