Instructions:This is a HCL Terraform project.
Ignore any files inside the archive/ folder.
Main infrastructure code is in lib/main.tf.
And lib/provider.tf only for providers. No provider should be in main.tf file.
Test code is in the test folder. terraform.int.test.ts and terraform.unit.test.ts
All the requirementsare in lib/PROMPT.md.
Your job is to check weather all the requirements are covers in main.tf file or not, 
The language and platform are also confirmed in metadata.json as Terraform, 
Ask for Help: Use GitHub PR comments to request feedback if needed.

Task1: Ensure that the infrastructure in lib/main.tf fully covers all the requirements in lib/PROMPT.md. If the current code does not satisfy the requirements, fix it before proceeding. Wrte a code for complete requirements:
Consideration: make sure code follow least permissions in roles/policies. do not use * or wildcard. Make sure code follows proper depends_on and relationship between each resources. Make sure we follow security and compliance in all resources creation, like in s3 bucket enalble versioning, encryption, block public access and so on...
Ensure that the code is well-structured, follows best practices, and is easy to understand. 
Ensure that the code is modular, with clear separation of concerns.

Task2: Build JOb: Ensure the build step completes successfully 

Task3: Write and build unit tests that are 100 percentage coverage and passing fully.
Consideration: code is in test folder for terraform.
Task4: Write and build integration tests that are 100 percentage coverage and passing fully. integration tests using mock outputs if needed (e.g., before deployment or if cfn-outputs are missing).
Consideration code is in test folder for terraform.
Task5: Make sure Lint test is passing.

Task6: Generate the Ideal Response MD file content at ./lib/IDEAL_RESPONSE.nd,  Rules for IDEAL_RESPONSE.md: Must provide a complete solution to lib/PROMPT.md.Must align with the actual code in lib/main.tf. After the solution is ready, and changes are made in main.tf code, copy it into Ideal response file. And then generate MODEL_FAILURES.md file by compare ideal response with model response files. 
Document all differences in lib/MODEL_FAILURES.md.Task7: Markdown Linting verification: Run markdownlint on all .md files in the lib/ folder. Rules: Must be self-contained (do not reference other .md files).

Task8: FINAL REVIEW for PR CHECKLIST:
Code Quality & Testing:

1. Does the code include appropriate test coverage?

2. Are integration tests provided and passing?

3. Is code style consistent with project standards?

4. Did you review and correct any typos or unclear code?

5. Have you commented any complex sections?

Documentation & Formatting:

1. Is PROMPT.md properly formatted?

2. Is IDEAL_RESPONSE.md properly formatted?

3. Is MODEL_RESPONSE.md properly formatted?

Consistency & Structure:

1. Is the code in IDEAL_RESPONSE.md consistent with tap_stack.py?

2. Have you avoided adding new files or folders unless necessary and documented?
