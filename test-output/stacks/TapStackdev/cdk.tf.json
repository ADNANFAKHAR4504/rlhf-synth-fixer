{
  "//": {
    "metadata": {
      "backend": "local",
      "stackName": "TapStackdev",
      "version": "0.21.0"
    },
    "outputs": {
      "TapStackdev": {
        "alb-dns-name": "alb-dns-name",
        "cloudfront-domain": "cloudfront-domain",
        "database-endpoint": "database-endpoint",
        "kms-key-id": "kms-key-id",
        "logs-bucket-name": "logs-bucket-name",
        "route53-domain": "route53-domain",
        "vpc-id": "vpc-id",
        "waf-web-acl-arn": "waf-web-acl-arn"
      }
    }
  },
  "output": {
    "alb-dns-name": {
      "description": "Application Load Balancer DNS Name",
      "value": "${aws_alb.main-alb.dns_name}"
    },
    "cloudfront-domain": {
      "description": "CloudFront Distribution Domain Name",
      "value": "${aws_cloudfront_distribution.webapp-cloudfront.domain_name}"
    },
    "database-endpoint": {
      "description": "PostgreSQL Database Endpoint",
      "value": "webapp-postgres-dev-mdwy0shu-4f4-vefuml.cluster-xyz.us-west-2.rds.amazonaws.com"
    },
    "kms-key-id": {
      "description": "KMS Key ID",
      "value": "${aws_kms_key.main-kms-key.key_id}"
    },
    "logs-bucket-name": {
      "description": "S3 Logs Bucket Name",
      "value": "${aws_s3_bucket.logs-bucket.bucket}"
    },
    "route53-domain": {
      "description": "Route 53 Domain Name",
      "value": "app.example.com"
    },
    "vpc-id": {
      "description": "VPC ID",
      "value": "${aws_vpc.main-vpc.id}"
    },
    "waf-web-acl-arn": {
      "description": "WAF WebACL ARN",
      "value": "${aws_wafv2_web_acl.webapp-waf.arn}"
    }
  },
  "provider": {
    "aws": [
      {
        "default_tags": [
          {
            "tags": {
              "CostCenter": "Engineering",
              "Environment": "Production",
              "ManagedBy": "CDKTF",
              "Owner": "DevOps",
              "Project": "ScalableWebApp"
            }
          }
        ],
        "region": "us-west-2"
      }
    ]
  },
  "resource": {
    "aws_alb": {
      "main-alb": {
        "//": {
          "metadata": {
            "path": "TapStackdev/main-alb",
            "uniqueId": "main-alb"
          }
        },
        "enable_deletion_protection": false,
        "internal": false,
        "load_balancer_type": "application",
        "name": "webapp-alb-dev-mdwy0s7o-4f4-u9q5i1",
        "security_groups": [
          "${aws_security_group.alb-security-group.id}"
        ],
        "subnets": [
          "${aws_subnet.public-subnet-1.id}",
          "${aws_subnet.public-subnet-2.id}"
        ],
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_alb_listener": {
      "alb-listener": {
        "//": {
          "metadata": {
            "path": "TapStackdev/alb-listener",
            "uniqueId": "alb-listener"
          }
        },
        "default_action": [
          {
            "target_group_arn": "${aws_alb_target_group.alb-target-group.arn}",
            "type": "forward"
          }
        ],
        "load_balancer_arn": "${aws_alb.main-alb.arn}",
        "port": 80,
        "protocol": "HTTP"
      }
    },
    "aws_alb_target_group": {
      "alb-target-group": {
        "//": {
          "metadata": {
            "path": "TapStackdev/alb-target-group",
            "uniqueId": "alb-target-group"
          }
        },
        "health_check": {
          "enabled": true,
          "healthy_threshold": 2,
          "interval": 30,
          "matcher": "200",
          "path": "/",
          "timeout": 5,
          "unhealthy_threshold": 2
        },
        "name": "webapp-tg-dev-mdwy0s81-4f4-2i3pc5",
        "port": 80,
        "protocol": "HTTP",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "target_type": "instance",
        "vpc_id": "${aws_vpc.main-vpc.id}"
      }
    },
    "aws_autoscaling_group": {
      "web-asg": {
        "//": {
          "metadata": {
            "path": "TapStackdev/web-asg",
            "uniqueId": "web-asg"
          }
        },
        "desired_capacity": 3,
        "health_check_grace_period": 300,
        "health_check_type": "ELB",
        "launch_template": {
          "id": "${aws_launch_template.web-launch-template.id}",
          "version": "$Latest"
        },
        "max_size": 10,
        "min_size": 2,
        "name": "webapp-asg-dev-mdwy0sad-4f4-thy5mh",
        "tag": [
          {
            "key": "Name",
            "propagate_at_launch": true,
            "value": "webapp-asg-dev"
          },
          {
            "key": "Environment",
            "propagate_at_launch": true,
            "value": "Production"
          },
          {
            "key": "Owner",
            "propagate_at_launch": true,
            "value": "DevOps"
          }
        ],
        "target_group_arns": [
          "${aws_alb_target_group.alb-target-group.arn}"
        ],
        "vpc_zone_identifier": [
          "${aws_subnet.private-subnet-1.id}",
          "${aws_subnet.private-subnet-2.id}"
        ]
      }
    },
    "aws_autoscaling_policy": {
      "scale-down-policy": {
        "//": {
          "metadata": {
            "path": "TapStackdev/scale-down-policy",
            "uniqueId": "scale-down-policy"
          }
        },
        "adjustment_type": "ChangeInCapacity",
        "autoscaling_group_name": "${aws_autoscaling_group.web-asg.name}",
        "cooldown": 300,
        "name": "scale-down-dev-mdwy0scf-4f4-v34xpa",
        "scaling_adjustment": -1
      },
      "scale-up-policy": {
        "//": {
          "metadata": {
            "path": "TapStackdev/scale-up-policy",
            "uniqueId": "scale-up-policy"
          }
        },
        "adjustment_type": "ChangeInCapacity",
        "autoscaling_group_name": "${aws_autoscaling_group.web-asg.name}",
        "cooldown": 300,
        "name": "scale-up-dev-mdwy0sbg-4f4-6p9f7i",
        "scaling_adjustment": 1
      }
    },
    "aws_budgets_budget": {
      "webapp-budget": {
        "//": {
          "metadata": {
            "path": "TapStackdev/webapp-budget",
            "uniqueId": "webapp-budget"
          }
        },
        "budget_type": "COST",
        "cost_filter": [
          {
            "name": "Service",
            "values": [
              "Amazon Elastic Compute Cloud - Compute"
            ]
          }
        ],
        "limit_amount": "500",
        "limit_unit": "USD",
        "name": "webapp-budget-dev-mdwy0sh8-4f4-b9okap",
        "time_unit": "MONTHLY"
      }
    },
    "aws_cloudfront_distribution": {
      "webapp-cloudfront": {
        "//": {
          "metadata": {
            "path": "TapStackdev/webapp-cloudfront",
            "uniqueId": "webapp-cloudfront"
          }
        },
        "default_cache_behavior": {
          "allowed_methods": [
            "DELETE",
            "GET",
            "HEAD",
            "OPTIONS",
            "PATCH",
            "POST",
            "PUT"
          ],
          "cached_methods": [
            "GET",
            "HEAD"
          ],
          "compress": true,
          "forwarded_values": {
            "cookies": {
              "forward": "none"
            },
            "query_string": false
          },
          "target_origin_id": "ALB-webapp",
          "viewer_protocol_policy": "redirect-to-https"
        },
        "enabled": true,
        "origin": [
          {
            "custom_origin_config": {
              "http_port": 80,
              "https_port": 443,
              "origin_protocol_policy": "http-only",
              "origin_ssl_protocols": [
                "TLSv1.2"
              ]
            },
            "domain_name": "${aws_alb.main-alb.dns_name}",
            "origin_id": "ALB-webapp"
          }
        ],
        "restrictions": {
          "geo_restriction": {
            "restriction_type": "none"
          }
        },
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "viewer_certificate": {
          "cloudfront_default_certificate": true
        },
        "web_acl_id": "${aws_wafv2_web_acl.webapp-waf.arn}"
      }
    },
    "aws_cloudfront_origin_access_control": {
      "oac": {
        "//": {
          "metadata": {
            "path": "TapStackdev/oac",
            "uniqueId": "oac"
          }
        },
        "description": "Origin Access Control for webapp",
        "name": "webapp-oac-dev-mdwy0sex-4f4-i2jyou",
        "origin_access_control_origin_type": "load_balancer",
        "signing_behavior": "always",
        "signing_protocol": "sigv4"
      }
    },
    "aws_cloudwatch_log_group": {
      "vpc-flow-log-group": {
        "//": {
          "metadata": {
            "path": "TapStackdev/vpc-flow-log-group",
            "uniqueId": "vpc-flow-log-group"
          }
        },
        "name": "/aws/vpc/flowlogs-dev-mdwy0shk-4f4-pmua07",
        "retention_in_days": 14,
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_cloudwatch_metric_alarm": {
      "cost-alarm": {
        "//": {
          "metadata": {
            "path": "TapStackdev/cost-alarm",
            "uniqueId": "cost-alarm"
          }
        },
        "alarm_description": "This alarm monitors monthly estimated charges",
        "alarm_name": "cost-threshold-dev-mdwy0shh-4f4-gihy35",
        "comparison_operator": "GreaterThanThreshold",
        "dimensions": {
          "Currency": "USD"
        },
        "evaluation_periods": 1,
        "metric_name": "EstimatedCharges",
        "namespace": "AWS/Billing",
        "period": 86400,
        "statistic": "Maximum",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "threshold": 400
      },
      "cpu-high-alarm": {
        "//": {
          "metadata": {
            "path": "TapStackdev/cpu-high-alarm",
            "uniqueId": "cpu-high-alarm"
          }
        },
        "alarm_actions": [
          "${aws_autoscaling_policy.scale-up-policy.arn}"
        ],
        "alarm_description": "This metric monitors ec2 cpu utilization",
        "alarm_name": "cpu-high-dev-mdwy0scs-4f4-jnltf7",
        "comparison_operator": "GreaterThanThreshold",
        "dimensions": {
          "AutoScalingGroupName": "${aws_autoscaling_group.web-asg.name}"
        },
        "evaluation_periods": 2,
        "metric_name": "CPUUtilization",
        "namespace": "AWS/EC2",
        "period": 120,
        "statistic": "Average",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "threshold": 70
      },
      "cpu-low-alarm": {
        "//": {
          "metadata": {
            "path": "TapStackdev/cpu-low-alarm",
            "uniqueId": "cpu-low-alarm"
          }
        },
        "alarm_actions": [
          "${aws_autoscaling_policy.scale-down-policy.arn}"
        ],
        "alarm_description": "This metric monitors ec2 cpu utilization",
        "alarm_name": "cpu-low-dev-mdwy0scy-4f4-lnyrgh",
        "comparison_operator": "LessThanThreshold",
        "dimensions": {
          "AutoScalingGroupName": "${aws_autoscaling_group.web-asg.name}"
        },
        "evaluation_periods": 2,
        "metric_name": "CPUUtilization",
        "namespace": "AWS/EC2",
        "period": 120,
        "statistic": "Average",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "threshold": 30
      }
    },
    "aws_db_instance": {
      "postgresql-database": {
        "//": {
          "metadata": {
            "path": "TapStackdev/postgresql-database",
            "uniqueId": "postgresql-database"
          }
        },
        "allocated_storage": 20,
        "backup_retention_period": 7,
        "backup_window": "03:00-04:00",
        "db_name": "webapp",
        "db_subnet_group_name": "${aws_db_subnet_group.db-subnet-group.name}",
        "deletion_protection": false,
        "engine": "postgres",
        "engine_version": "15.4",
        "identifier": "webapp-postgres-dev-mdwy0sd3-4f4-eaecx2",
        "instance_class": "db.t3.micro",
        "kms_key_id": "${aws_kms_key.main-kms-key.arn}",
        "maintenance_window": "sun:04:00-sun:05:00",
        "multi_az": true,
        "password": "ChangeMe123!",
        "publicly_accessible": false,
        "skip_final_snapshot": true,
        "storage_encrypted": true,
        "storage_type": "gp2",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "username": "webapp_admin",
        "vpc_security_group_ids": [
          "${aws_security_group.rds-security-group.id}"
        ]
      }
    },
    "aws_db_subnet_group": {
      "db-subnet-group": {
        "//": {
          "metadata": {
            "path": "TapStackdev/db-subnet-group",
            "uniqueId": "db-subnet-group"
          }
        },
        "name": "webapp-db-subnet-dev-mdwy0sd0-4f4-ylnrli",
        "subnet_ids": [
          "${aws_subnet.db-subnet-1.id}",
          "${aws_subnet.db-subnet-2.id}"
        ],
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_flow_log": {
      "vpc-flow-log": {
        "//": {
          "metadata": {
            "path": "TapStackdev/vpc-flow-log",
            "uniqueId": "vpc-flow-log"
          }
        },
        "iam_role_arn": "${aws_iam_role.flow-log-role.arn}",
        "log_destination": "${aws_cloudwatch_log_group.vpc-flow-log-group.arn}",
        "log_destination_type": "cloud-watch-logs",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "traffic_type": "ALL",
        "vpc_id": "${aws_vpc.main-vpc.id}"
      }
    },
    "aws_iam_instance_profile": {
      "ec2-instance-profile": {
        "//": {
          "metadata": {
            "path": "TapStackdev/ec2-instance-profile",
            "uniqueId": "ec2-instance-profile"
          }
        },
        "name": "ec2-profile-dev-mdwy0s94-4f4-5hgqkk",
        "role": "${aws_iam_role.ec2-role.name}"
      }
    },
    "aws_iam_policy": {
      "ec2-policy": {
        "//": {
          "metadata": {
            "path": "TapStackdev/ec2-policy",
            "uniqueId": "ec2-policy"
          }
        },
        "name": "ec2-policy-dev-mdwy0s90-4f4-end3z5",
        "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3:GetObject\",\"s3:PutObject\"],\"Resource\":\"arn:aws:s3:::webapp-logs-*/*\"},{\"Effect\":\"Allow\",\"Action\":[\"cloudwatch:PutMetricData\",\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Resource\":[\"arn:aws:cloudwatch:us-west-2:*:*\",\"arn:aws:logs:us-west-2:*:*\"]},{\"Effect\":\"Allow\",\"Action\":[\"ssm:GetParameter\",\"ssm:GetParameters\",\"ssm:GetParametersByPath\"],\"Resource\":\"arn:aws:ssm:us-west-2:*:parameter/webapp/*\"}]}",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      },
      "flow-log-policy": {
        "//": {
          "metadata": {
            "path": "TapStackdev/flow-log-policy",
            "uniqueId": "flow-log-policy"
          }
        },
        "name": "flow-log-policy-dev-mdwy0shi-4f4-b2nr8x",
        "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\",\"logs:DescribeLogGroups\",\"logs:DescribeLogStreams\"],\"Resource\":[\"arn:aws:logs:us-west-2:*:log-group:/aws/vpc/*\"]}]}",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_iam_role": {
      "ec2-role": {
        "//": {
          "metadata": {
            "path": "TapStackdev/ec2-role",
            "uniqueId": "ec2-role"
          }
        },
        "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}]}",
        "name": "ec2-role-dev-mdwy0s8x-4f4-wqdmi7",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      },
      "flow-log-role": {
        "//": {
          "metadata": {
            "path": "TapStackdev/flow-log-role",
            "uniqueId": "flow-log-role"
          }
        },
        "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"vpc-flow-logs.amazonaws.com\"}}]}",
        "name": "flow-log-role-dev-mdwy0shi-4f4-nowjto",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_iam_role_policy_attachment": {
      "ec2-policy-attachment": {
        "//": {
          "metadata": {
            "path": "TapStackdev/ec2-policy-attachment",
            "uniqueId": "ec2-policy-attachment"
          }
        },
        "policy_arn": "${aws_iam_policy.ec2-policy.arn}",
        "role": "${aws_iam_role.ec2-role.name}"
      },
      "flow-log-policy-attachment": {
        "//": {
          "metadata": {
            "path": "TapStackdev/flow-log-policy-attachment",
            "uniqueId": "flow-log-policy-attachment"
          }
        },
        "policy_arn": "${aws_iam_policy.flow-log-policy.arn}",
        "role": "${aws_iam_role.flow-log-role.name}"
      }
    },
    "aws_internet_gateway": {
      "main-igw": {
        "//": {
          "metadata": {
            "path": "TapStackdev/main-igw",
            "uniqueId": "main-igw"
          }
        },
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "main-igw",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      }
    },
    "aws_kms_key": {
      "main-kms-key": {
        "//": {
          "metadata": {
            "path": "TapStackdev/main-kms-key",
            "uniqueId": "main-kms-key"
          }
        },
        "description": "KMS key for encrypting resources",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_launch_template": {
      "web-launch-template": {
        "//": {
          "metadata": {
            "path": "TapStackdev/web-launch-template",
            "uniqueId": "web-launch-template"
          }
        },
        "iam_instance_profile": {
          "name": "${aws_iam_instance_profile.ec2-instance-profile.name}"
        },
        "image_id": "ami-0c2d3e23b7e3c7bd4",
        "instance_type": "t3.medium",
        "name": "webapp-template-dev-mdwy0s95-4f4-967nhp",
        "tag_specifications": [
          {
            "resource_type": "instance",
            "tags": {
              "CostCenter": "Engineering",
              "Environment": "Production",
              "ManagedBy": "CDKTF",
              "Owner": "DevOps",
              "Project": "ScalableWebApp"
            }
          }
        ],
        "user_data": "IyEvYmluL2Jhc2gKeXVtIHVwZGF0ZSAteQp5dW0gaW5zdGFsbCAteSBodHRwZCBhd3Nsb2dzCnN5c3RlbWN0bCBzdGFydCBodHRwZApzeXN0ZW1jdGwgZW5hYmxlIGh0dHBkCnN5c3RlbWN0bCBzdGFydCBhd3Nsb2dzZApzeXN0ZW1jdGwgZW5hYmxlIGF3c2xvZ3NkCmVjaG8gIjxoMT5TY2FsYWJsZSBXZWIgQXBwbGljYXRpb24gLSAkKGhvc3RuYW1lKTwvaDE+IiA+IC92YXIvd3d3L2h0bWwvaW5kZXguaHRtbAo=",
        "vpc_security_group_ids": [
          "${aws_security_group.ec2-security-group.id}"
        ]
      }
    },
    "aws_route": {
      "public-route": {
        "//": {
          "metadata": {
            "path": "TapStackdev/public-route",
            "uniqueId": "public-route"
          }
        },
        "destination_cidr_block": "0.0.0.0/0",
        "gateway_id": "${aws_internet_gateway.main-igw.id}",
        "route_table_id": "${aws_route_table.public-route-table.id}"
      }
    },
    "aws_route53_health_check": {
      "webapp-health-check": {
        "//": {
          "metadata": {
            "path": "TapStackdev/webapp-health-check",
            "uniqueId": "webapp-health-check"
          }
        },
        "failure_threshold": 3,
        "fqdn": "${aws_cloudfront_distribution.webapp-cloudfront.domain_name}",
        "port": 443,
        "request_interval": 30,
        "resource_path": "/",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "type": "HTTPS"
      }
    },
    "aws_route53_record": {
      "webapp-dns-record": {
        "//": {
          "metadata": {
            "path": "TapStackdev/webapp-dns-record",
            "uniqueId": "webapp-dns-record"
          }
        },
        "alias": {
          "evaluate_target_health": false,
          "name": "${aws_cloudfront_distribution.webapp-cloudfront.domain_name}",
          "zone_id": "${aws_cloudfront_distribution.webapp-cloudfront.hosted_zone_id}"
        },
        "name": "app.example.com",
        "type": "A",
        "zone_id": "${aws_route53_zone.webapp-zone.zone_id}"
      }
    },
    "aws_route53_zone": {
      "webapp-zone": {
        "//": {
          "metadata": {
            "path": "TapStackdev/webapp-zone",
            "uniqueId": "webapp-zone"
          }
        },
        "name": "app.example.com",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_route_table": {
      "public-route-table": {
        "//": {
          "metadata": {
            "path": "TapStackdev/public-route-table",
            "uniqueId": "public-route-table"
          }
        },
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "public-route-table",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      }
    },
    "aws_route_table_association": {
      "public-rt-assoc-1": {
        "//": {
          "metadata": {
            "path": "TapStackdev/public-rt-assoc-1",
            "uniqueId": "public-rt-assoc-1"
          }
        },
        "route_table_id": "${aws_route_table.public-route-table.id}",
        "subnet_id": "${aws_subnet.public-subnet-1.id}"
      },
      "public-rt-assoc-2": {
        "//": {
          "metadata": {
            "path": "TapStackdev/public-rt-assoc-2",
            "uniqueId": "public-rt-assoc-2"
          }
        },
        "route_table_id": "${aws_route_table.public-route-table.id}",
        "subnet_id": "${aws_subnet.public-subnet-2.id}"
      }
    },
    "aws_s3_bucket": {
      "logs-bucket": {
        "//": {
          "metadata": {
            "path": "TapStackdev/logs-bucket",
            "uniqueId": "logs-bucket"
          }
        },
        "bucket": "webapp-logs-dev-mdwy0sdr-4f4-4w2ii6",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_s3_bucket_lifecycle_configuration": {
      "logs-bucket-lifecycle": {
        "//": {
          "metadata": {
            "path": "TapStackdev/logs-bucket-lifecycle",
            "uniqueId": "logs-bucket-lifecycle"
          }
        },
        "bucket": "${aws_s3_bucket.logs-bucket.id}",
        "rule": [
          {
            "expiration": [
              {
                "days": 365
              }
            ],
            "id": "log-lifecycle-rule",
            "status": "Enabled",
            "transition": [
              {
                "days": 30,
                "storage_class": "GLACIER"
              }
            ]
          }
        ]
      }
    },
    "aws_s3_bucket_server_side_encryption_configuration": {
      "logs-bucket-encryption": {
        "//": {
          "metadata": {
            "path": "TapStackdev/logs-bucket-encryption",
            "uniqueId": "logs-bucket-encryption"
          }
        },
        "bucket": "${aws_s3_bucket.logs-bucket.id}",
        "rule": [
          {
            "apply_server_side_encryption_by_default": {
              "kms_master_key_id": "${aws_kms_key.main-kms-key.arn}",
              "sse_algorithm": "aws:kms"
            }
          }
        ]
      }
    },
    "aws_s3_bucket_versioning": {
      "logs-bucket-versioning": {
        "//": {
          "metadata": {
            "path": "TapStackdev/logs-bucket-versioning",
            "uniqueId": "logs-bucket-versioning"
          }
        },
        "bucket": "${aws_s3_bucket.logs-bucket.id}",
        "versioning_configuration": {
          "status": "Enabled"
        }
      }
    },
    "aws_security_group": {
      "alb-security-group": {
        "//": {
          "metadata": {
            "path": "TapStackdev/alb-security-group",
            "uniqueId": "alb-security-group"
          }
        },
        "description": "Security group for Application Load Balancer",
        "egress": [
          {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": null,
            "from_port": 0,
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_groups": null,
            "self": null,
            "to_port": 0
          }
        ],
        "ingress": [
          {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "HTTP access from internet",
            "from_port": 80,
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_groups": null,
            "self": null,
            "to_port": 80
          },
          {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "HTTPS access from internet",
            "from_port": 443,
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_groups": null,
            "self": null,
            "to_port": 443
          }
        ],
        "name": "alb-sg-dev-mdwy0s78-4f4-qkuoa9",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      },
      "ec2-security-group": {
        "//": {
          "metadata": {
            "path": "TapStackdev/ec2-security-group",
            "uniqueId": "ec2-security-group"
          }
        },
        "description": "Security group for EC2 instances",
        "egress": [
          {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": null,
            "from_port": 0,
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_groups": null,
            "self": null,
            "to_port": 0
          }
        ],
        "ingress": [
          {
            "cidr_blocks": null,
            "description": "HTTP access from ALB only",
            "from_port": 80,
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_groups": [
              "${aws_security_group.alb-security-group.id}"
            ],
            "self": null,
            "to_port": 80
          },
          {
            "cidr_blocks": null,
            "description": "SSH access from ALB only",
            "from_port": 22,
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_groups": [
              "${aws_security_group.alb-security-group.id}"
            ],
            "self": null,
            "to_port": 22
          }
        ],
        "name": "ec2-sg-dev-mdwy0s7f-4f4-68irv8",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      },
      "rds-security-group": {
        "//": {
          "metadata": {
            "path": "TapStackdev/rds-security-group",
            "uniqueId": "rds-security-group"
          }
        },
        "description": "Security group for RDS PostgreSQL database",
        "ingress": [
          {
            "cidr_blocks": null,
            "description": "PostgreSQL access from EC2 only",
            "from_port": 5432,
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_groups": [
              "${aws_security_group.ec2-security-group.id}"
            ],
            "self": null,
            "to_port": 5432
          }
        ],
        "name": "rds-sg-dev-mdwy0s7k-4f4-xkqvrb",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      }
    },
    "aws_ssm_parameter": {
      "app-env-parameter": {
        "//": {
          "metadata": {
            "path": "TapStackdev/app-env-parameter",
            "uniqueId": "app-env-parameter"
          }
        },
        "description": "Application environment",
        "name": "/webapp/environment",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "type": "String",
        "value": "production"
      },
      "db-host-parameter": {
        "//": {
          "metadata": {
            "path": "TapStackdev/db-host-parameter",
            "uniqueId": "db-host-parameter"
          }
        },
        "description": "Database host endpoint",
        "name": "/webapp/database/host",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "type": "String",
        "value": "postgres-endpoint-placeholder"
      }
    },
    "aws_subnet": {
      "db-subnet-1": {
        "//": {
          "metadata": {
            "path": "TapStackdev/db-subnet-1",
            "uniqueId": "db-subnet-1"
          }
        },
        "availability_zone": "us-west-2a",
        "cidr_block": "10.0.100.0/24",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "db-subnet-1",
          "Owner": "DevOps",
          "Project": "ScalableWebApp",
          "Type": "Database"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      },
      "db-subnet-2": {
        "//": {
          "metadata": {
            "path": "TapStackdev/db-subnet-2",
            "uniqueId": "db-subnet-2"
          }
        },
        "availability_zone": "us-west-2b",
        "cidr_block": "10.0.101.0/24",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "db-subnet-2",
          "Owner": "DevOps",
          "Project": "ScalableWebApp",
          "Type": "Database"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      },
      "private-subnet-1": {
        "//": {
          "metadata": {
            "path": "TapStackdev/private-subnet-1",
            "uniqueId": "private-subnet-1"
          }
        },
        "availability_zone": "us-west-2a",
        "cidr_block": "10.0.10.0/24",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "private-subnet-1",
          "Owner": "DevOps",
          "Project": "ScalableWebApp",
          "Type": "Private"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      },
      "private-subnet-2": {
        "//": {
          "metadata": {
            "path": "TapStackdev/private-subnet-2",
            "uniqueId": "private-subnet-2"
          }
        },
        "availability_zone": "us-west-2b",
        "cidr_block": "10.0.20.0/24",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "private-subnet-2",
          "Owner": "DevOps",
          "Project": "ScalableWebApp",
          "Type": "Private"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      },
      "public-subnet-1": {
        "//": {
          "metadata": {
            "path": "TapStackdev/public-subnet-1",
            "uniqueId": "public-subnet-1"
          }
        },
        "availability_zone": "us-west-2a",
        "cidr_block": "10.0.1.0/24",
        "map_public_ip_on_launch": true,
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "public-subnet-1",
          "Owner": "DevOps",
          "Project": "ScalableWebApp",
          "Type": "Public"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      },
      "public-subnet-2": {
        "//": {
          "metadata": {
            "path": "TapStackdev/public-subnet-2",
            "uniqueId": "public-subnet-2"
          }
        },
        "availability_zone": "us-west-2b",
        "cidr_block": "10.0.2.0/24",
        "map_public_ip_on_launch": true,
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "public-subnet-2",
          "Owner": "DevOps",
          "Project": "ScalableWebApp",
          "Type": "Public"
        },
        "vpc_id": "${aws_vpc.main-vpc.id}"
      }
    },
    "aws_vpc": {
      "main-vpc": {
        "//": {
          "metadata": {
            "path": "TapStackdev/main-vpc",
            "uniqueId": "main-vpc"
          }
        },
        "cidr_block": "10.0.0.0/16",
        "enable_dns_hostnames": true,
        "enable_dns_support": true,
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Name": "main-vpc-dev",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        }
      }
    },
    "aws_wafv2_web_acl": {
      "webapp-waf": {
        "//": {
          "metadata": {
            "path": "TapStackdev/webapp-waf",
            "uniqueId": "webapp-waf"
          }
        },
        "default_action": {
          "allow": {
          }
        },
        "name": "webapp-waf-dev-mdwy0sex-4f4-bcczwh",
        "rule": [
          {
            "name": "AWSManagedRulesCommonRuleSet",
            "override_action": {
              "none": {
              }
            },
            "priority": 1,
            "statement": {
              "managedRuleGroupStatement": {
                "name": "AWSManagedRulesCommonRuleSet",
                "vendorName": "AWS"
              }
            },
            "visibility_config": {
              "cloudwatch_metrics_enabled": true,
              "metric_name": "CommonRuleSetMetric",
              "sampled_requests_enabled": true
            }
          },
          {
            "name": "AWSManagedRulesOWASPTop10",
            "override_action": {
              "none": {
              }
            },
            "priority": 2,
            "statement": {
              "managedRuleGroupStatement": {
                "name": "AWSManagedRulesCore",
                "vendorName": "AWS"
              }
            },
            "visibility_config": {
              "cloudwatch_metrics_enabled": true,
              "metric_name": "OWASPTop10Metric",
              "sampled_requests_enabled": true
            }
          }
        ],
        "scope": "CLOUDFRONT",
        "tags": {
          "CostCenter": "Engineering",
          "Environment": "Production",
          "ManagedBy": "CDKTF",
          "Owner": "DevOps",
          "Project": "ScalableWebApp"
        },
        "visibility_config": {
          "cloudwatch_metrics_enabled": true,
          "metric_name": "WebAppWAFdev",
          "sampled_requests_enabled": true
        }
      }
    }
  },
  "terraform": {
    "backend": {
      "local": {
        "path": "C:\\Users\\harsh\\Desktop\\Turing\\iac-test-automations\\terraform.TapStackdev.tfstate"
      }
    },
    "required_providers": {
      "aws": {
        "source": "aws",
        "version": "6.4.0"
      }
    }
  }
}