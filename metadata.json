{
  "platform": "cfn",
  "language": "yaml",
  "complexity": "hard",
  "turn_type": "single",
  "po_id": "349023",
  "team": "3",
  "startedAt": "2025-10-20T15:20:28.296Z",
  "subtask": "Provisioning of Infrastructure Environments",
  "subject_labels": [
    "Cloud Environment Setup"
  ],
  "aws_services": [
    "VPC",
    "InternetGateway",
    "VPCGatewayAttachment",
    "PublicSubnet1",
    "PublicSubnet2",
    "PrivateSubnet1",
    "PrivateSubnet2",
    "PublicRouteTable",
    "PrivateRouteTable1",
    "PrivateRouteTable2",
    "PublicRoute",
    "NatGateway1EIP",
    "NatGateway2EIP",
    "NatGateway1",
    "NatGateway2",
    "PublicSubnet1RouteTableAssociation",
    "PublicSubnet2RouteTableAssociation",
    "PrivateSubnet1RouteTableAssociation",
    "PrivateSubnet2RouteTableAssociation",
    "BastionSecurityGroup",
    "AppSecurityGroup",
    "RDSSecurityGroup",
    "BastionHostInstance",
    "AppEC2Instance",
    "InstanceProfileApp",
    "InstanceProfileBastion",
    "RoleAppInstance",
    "RoleBastionInstance",
    "PolicyAppS3Access",
    "PolicySSMCoreAccess",
    "S3ApplicationBucket",
    "S3AccessLogsBucket",
    "S3BucketPolicy",
    "KMSKeyGeneral",
    "KMSKeyAlias",
    "RDSInstance",
    "RDSSubnetGroup",
    "CloudTrail",
    "CloudTrailBucketPolicy",
    "CloudWatchAlarmEC2CPU",
    "CloudWatchAlarmRDSCPU",
    "CloudWatchAlarmEC2StatusCheck",
    "SNSTopicAlarms",
    "SNSSubscriptionEmail",
    "CloudWatchLogGroupTrail",
    "CloudWatchLogGroupEC2",
    "IAMRoleCloudTrail",
    "IAMPolicyCloudTrailKMSAccess",
    "Outputs (VPCID, SubnetIDs, SecurityGroupIDs, S3BucketNames, KMSKeyARNs, RDSInstanceEndpoint, BastionPublicIP, AppInstanceID, CloudTrailARN, SNSTopicARN)."
  ],
  "training_quality": 9,
  "background": "Migrate production to a new AWS account by deploying a brand-new, self-contained stack in us-west-2 using a single TapStack.yml. Build a VPC named 'ProdVPC' with two public subnets across AZs and an Internet Gateway; launch two Amazon Linux 2 EC2 instances in separate public subnets (attach an Elastic IP to one) and enable SSH/HTTP via a security group. Add an IAM role for EC2 with least-privilege read-only access to a versioned, KMS-encrypted S3 bucket that also receives CloudTrail logs. Provide an EC2 Launch Template and an Auto Scaling Group (min 2, max 4) with CPU-based CloudWatch alarms for scale in/out. Include parameters (KeyName, SSHLocation, CreateEIP), daily SSM patching via AWS-RunPatchBaseline, KMS key and alias, outputs for key resources, and consistent 'prod-' naming and tags."
}

