Build a serverless infrastructure using CloudFormation JSON template that creates an API Gateway which triggers a Lambda function for HTTP request processing. The Lambda function processes incoming requests and writes data to a DynamoDB table for persistent storage. API Gateway logs all incoming requests to an S3 bucket for audit trails. CloudWatch Events schedules the Lambda function to run every 24 hours for automated tasks in addition to the API Gateway triggers.

The Lambda function uses Python 3.8 runtime and needs IAM roles that grant permissions to write to DynamoDB and be invoked by both API Gateway and CloudWatch Events. The DynamoDB table stores request data with provisioned capacity of at least 5 read and 5 write units. Both the DynamoDB table and S3 bucket use server-side encryption with AWS-managed keys to protect data at rest. The S3 bucket has versioning enabled to prevent accidental data loss from the API Gateway logs.

API Gateway enables CORS for all origins to allow cross-origin requests. CloudWatch monitors the API Gateway by creating an alarm that tracks 5XX error rates to detect service issues. All resources are tagged with Environment Production for tracking purposes.

Use CloudFormation intrinsic functions to link resources dynamically - the Lambda function references the DynamoDB table name, API Gateway references the Lambda function ARN, and CloudWatch Events references the Lambda function for scheduled execution. Deploy everything to us-west-2 region. The template should be self-contained and named serverless-infrastructure.json.
