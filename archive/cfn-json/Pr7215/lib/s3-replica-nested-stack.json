{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "S3 replica bucket in us-west-2 for cross-region replication",
  "Parameters": {
    "Environment": {"Type": "String", "Description": "Environment name"},
    "EnvironmentSuffix": {"Type": "String", "Description": "Unique suffix for resource naming"},
    "ProjectName": {"Type": "String", "Description": "Project name for tagging"},
    "CostCenter": {"Type": "String", "Description": "Cost center for billing"}
  },
  "Resources": {
    "ReplicaBucket": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketName": {"Fn::Sub": "data-bucket-replica-${Environment}-${EnvironmentSuffix}"},
        "VersioningConfiguration": {"Status": "Enabled"},
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {"ServerSideEncryptionByDefault": {"SSEAlgorithm": "AES256"}}
          ]
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        },
        "Tags": [
          {"Key": "Name", "Value": {"Fn::Sub": "data-bucket-replica-${Environment}-${EnvironmentSuffix}"}},
          {"Key": "Environment", "Value": {"Ref": "Environment"}},
          {"Key": "Project", "Value": {"Ref": "ProjectName"}},
          {"Key": "CostCenter", "Value": {"Ref": "CostCenter"}},
          {"Key": "Region", "Value": "us-west-2"}
        ]
      },
      "DeletionPolicy": "Delete"
    }
  },
  "Outputs": {
    "ReplicaBucketName": {"Description": "Replica Bucket Name in us-west-2", "Value": {"Ref": "ReplicaBucket"}},
    "ReplicaBucketArn": {"Description": "Replica Bucket ARN in us-west-2", "Value": {"Fn::GetAtt": ["ReplicaBucket", "Arn"]}}
  }
}
