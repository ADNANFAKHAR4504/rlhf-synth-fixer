Design and implement a CloudFormation template in JSON format to deploy a serverless infrastructure on AWS focused on handling HTTP requests. The infrastructure should include a Lambda function written in Python 3.8 to process incoming requests, an API Gateway configured as an HTTP endpoint to trigger the Lambda function, a DynamoDB table for storing request data with provisioned read and write capacity of at least 5 units each, and an S3 bucket for logging all API requests handled by the API Gateway. The Lambda function must have appropriate IAM roles and policies to access DynamoDB and be triggered by API Gateway. Enable server-side encryption at rest for both the DynamoDB table and S3 bucket using AWS-managed keys. Configure versioning on the S3 bucket to prevent data loss. Tag all resources with Environment Production for resource tracking. Implement at least one CloudWatch alarm to monitor the API Gateway 5XX error rate with appropriate thresholds. Configure the API Gateway to enable CORS for all origins. Use CloudFormation intrinsic functions where applicable for dynamic resource references. Schedule the Lambda function to run every 24 hours using CloudWatch Events in addition to API Gateway triggers. Deploy all resources in the us-west-2 region. The CloudFormation stack must be self-contained with no external dependencies and the template should be named serverless-infrastructure.json.
