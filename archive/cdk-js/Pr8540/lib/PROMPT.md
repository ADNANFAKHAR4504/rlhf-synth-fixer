A booking platform that serves around fifty thousand search requests a day needs an API that returns results quickly, scales smoothly under load, integrates with external systems, and captures useful analytics without compromising security. Use AWS CDK in JavaScript to define the stack and deploy via CloudFormation. Build the API with API Gateway as the front door and Lambda functions for request processing. Add a Redis cluster in ElastiCache for result caching; place it in a VPC and wire the Lambdas into that VPC with security groups that allow only the necessary traffic to Redis. Persist core data in DynamoDB with on-demand capacity and encryption at rest. Turn on CloudWatch metrics and logs, enable AWS X-Ray on both API Gateway and Lambda for tracing, and publish custom metrics for cache hit/miss and latency so we can see performance at a glance. Use EventBridge to fan out events to external systems (for example, “search.completed” or “booking.requested”), and keep IAM policies tight with least-privilege roles for API, Lambda, DynamoDB, ElastiCache, and EventBridge. Include sensible defaults such as environment variables for table names, cache endpoints, and TTLs, usage plans and rate limits on API Gateway for controlled access, and basic alarms on errors and latency. The output must be only the complete CDK JavaScript code for two files—bin/tap.mjs, lib/tap-stack.mjs—with no explanations, no comments, and nothing else.

