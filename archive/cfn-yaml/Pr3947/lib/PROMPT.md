I need to design a highly available and fault-tolerant web application infrastructure using AWS CloudFormation YAML in the us-west-2 region. The goal is to build a resilient production environment that ensures business continuity, fault isolation, and automated recovery — even in the event of regional or instance-level failures.

Here’s the scenario:
We’re deploying a web application that must remain operational across multiple availability zones, with intelligent failover and fully automated provisioning. The environment should begin with a VPC (create a new one) that spans at least two Availability Zones, following AWS’s recommended best practices for segmentation and subnet allocation. Within this VPC, the application layer will be hosted on EC2 instances (t3.medium or larger) managed by Auto Scaling Groups, ensuring elastic capacity to handle traffic variations.

Traffic to these instances should be distributed via an Elastic Load Balancer (ELB) configured for SSL termination and integrated with Route 53 for automatic DNS failover, allowing seamless redirection of traffic during outages. The system should also include a multi-AZ RDS database for persistence, supporting automatic failover and continuous backups with at least 7 days of retention. Database and application servers must reside in separate subnets, with strict security groups permitting only HTTP (80) and HTTPS (443) inbound access from trusted IP ranges.

The infrastructure should incorporate CloudWatch monitoring and alarms for critical resources — tracking metrics such as EC2 CPU utilization, ELB health checks, and RDS performance. CloudWatch Logs must capture application and infrastructure-level logs, ensuring visibility into system health. In addition, S3 buckets should be used to host static content and store logs, with all data encrypted using AWS KMS for compliance and data protection.

For operational governance, define IAM roles and policies that enforce least privilege for EC2 instances, Lambda functions (if applicable), and database access. Every resource should include consistent naming conventions (using project-aligned names) and resource tags for environment tracking, cost management, and compliance auditing. The CloudFormation stack should deploy without manual intervention and validate successfully through AWS’s built-in template validation tools.

This setup represents a Failure Recovery and High Availability environment — designed to automatically distribute load, recover from instance or AZ failures, and maintain security and performance standards. The final CloudFormation YAML template should reflect AWS architectural best practices, including high availability, fault tolerance, automation, encryption, and observability.

The expected output is a fully functional CloudFormation YAML file named ha-fault-tolerant-webapp.yaml, capable of creating all specified components and passing deployment validation checks in the us-west-2 region.
