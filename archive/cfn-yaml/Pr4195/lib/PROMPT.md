As an AWS architecture expert, please craft a YAML CloudFormation template that deploys a highly available web application architecture with a multi-AZ VPC, public and private subnets, NAT gateways, an RDS with a read replica, an EC2 auto-scaling group behind an ALB, an S3 logs bucket with versioning and lifecycle policies, CloudFront distribution, WAF with common rules, all resources tagged 'cost-center:1234', CloudTrail and Config for auditing, SNS notifications, KMS encryption, Lambda functions for serverless tasks, and enable logging and monitoring across services.
This cloudformation should be of production ready, and it should follow the best security practice