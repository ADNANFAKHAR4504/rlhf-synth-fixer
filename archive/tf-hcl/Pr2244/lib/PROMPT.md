### Prompt 
To maintain a secure and compliant AWS environment, all data stored in S3 should be encrypted using AES-256 encryption, and versioning should be enabled on all S3 buckets to protect against accidental deletions or overwrites. IAM roles must not have administrator access unless explicitly required and properly documented, and all IAM policies should follow the principle of least privilege. EC2 instances should use the latest Amazon Linux 2 AMI, and security groups must restrict ingress rules to only the necessary IPs and ports. To defend against DDoS attacks, AWS Shield should be enabled on all deployed resources. VPC Flow Logs should be turned on to monitor network traffic, and AWS Config rules should be applied to ensure compliance with organizational security standards. For databases, Amazon RDS should be configured with Multi-AZ deployments for high availability, and all RDS instances must be encrypted using AWS KMS-managed keys. Access to the AWS Management Console should be secured using strong password policies and multi-factor authentication (MFA). Lastly, AWS CloudTrail should be enabled to monitor and audit changes to critical resources.

**Instructions:**

The goal is to create a secure and compliant AWS infrastructure using Terraform. This setup spans two regions—`us-east-1` and `us-west-2`—each with its own VPC segmented into public and private subnets. EC2 instances, launched with the latest Amazon Linux 2 AMI, are placed in the private subnets for enhanced security. S3 buckets must have AES-256 encryption, versioning enabled, and access controlled through IAM roles adhering to the principle of least privilege. Amazon RDS should be deployed using Multi-AZ configurations with encryption enabled for high availability and data protection. IAM roles and policies should be strictly scoped to the minimum permissions required for their function. The infrastructure must also integrate AWS Shield for DDoS protection, enable AWS Config rules for compliance monitoring, and activate VPC Flow Logs for network visibility. Security Groups should enforce strict ingress and egress rules. AWS CloudTrail must be configured to log all API activities across the AWS accounts, and console access should be secured with strong password policies and multi-factor authentication (MFA). Terraform state should be remotely managed using an S3 backend with state locking handled by DynamoDB. Resources must follow a consistent naming pattern of `prod-<resource-name>-<region>` and include proper tagging with `Environment` and `Project`. The final result should be a robust and secure Terraform-based infrastructure that meets all specified requirements and passes validation via the provided test suite.