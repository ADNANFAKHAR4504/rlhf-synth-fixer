Build a production serverless recommendation system in us-east-1 using Terraform (HCL).
Capture real-time user interactions with Kinesis Data Streams. Use Lambda (Python 3.11) to process records and update DynamoDB tables for user profiles and interactions. Export training data into S3 and run AWS Glue jobs to prepare datasets. Use Amazon Personalize to manage datasets, solutions, and campaigns, with A/B testing across model versions. Orchestrate training and campaign updates with Step Functions and schedule retraining via EventBridge. Send completion or failure notifications with SNS. Serve recommendations through API Gateway, caching results in ElastiCache (Redis) for low latency. Expose metrics and alarms with CloudWatch (dashboards for ingestion rate, Lambda errors, API latency/5xx, cache hit rate, and recommendation KPIs). Create all IAM roles and policies with least privilege.
Do not hardcode values; expose region, stream/shard counts, table capacities, Redis node type, API stage name, schedule expressions, and campaign identifiers as Terraform variables. Tag all resources.
