A news platform wants to personalize articles for roughly fifty thousand readers per day while keeping latency low and capturing solid engagement metrics. Use AWS CDK with TypeScript to define the whole stack and deploy via CloudFormation. Content should live in S3 and be delivered through a CloudFront distribution; add Lambda@Edge for per-request personalization (viewer request/response at minimum), and remember that Lambda@Edge functions must be created in us-east-1 even if the rest of the stack runs elsewhere. Store user preferences in a DynamoDB table and have the edge logic read the necessary keys via signed, least-privilege access paths. Wire DNS with Route 53 so the site is served on a friendly name; the distribution must enforce HTTPS. Lock down S3 with origin access (OAC or OAI) so only CloudFront can read objects. Expose engagement and delivery metrics in CloudWatch with useful dimensions (cache hit rate, function errors/throttles, DDB latency/throttles), and apply tight IAM policies across all components. The response must be only the CDK TypeScript code for three files — `bin/tap.ts`, `lib/tap-stack.ts`, and `cdk.json` — with no explanations, no comments, and nothing extra.
