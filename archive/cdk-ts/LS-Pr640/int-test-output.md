# LocalStack Deployment Test

**Date:** $(date)
**Task:** /home/ubuntu/iac-test-automations/worktree/github-Pr640
**Platform:** cdk
**Language:** ts
**PR ID:** Pr640
**Work Directory:** /home/ubuntu/iac-test-automations/worktree/localstack-Pr640

---


## Dependencies Installation
```
npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
npm warn deprecated lodash.isequal@4.5.0: This package is deprecated. Use require('node:util').isDeepStrictEqual instead.
npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.
npm warn deprecated @cdktf/provider-archive@11.0.1: See https://cdk.tf/imports for details on how to continue to use the archive provider in your CDK for Terraform (CDKTF) projects by generating the bindings locally.
npm warn deprecated @cdktf/provider-tls@11.0.1: See https://cdk.tf/imports for details on how to continue to use the tls provider in your CDK for Terraform (CDKTF) projects by generating the bindings locally.
npm warn deprecated @cdktf/provider-random@12.0.1: See https://cdk.tf/imports for details on how to continue to use the random provider in your CDK for Terraform (CDKTF) projects by generating the bindings locally.
npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
npm warn deprecated @cdktf/provider-aws@21.9.1: See https://cdk.tf/imports for details on how to continue to use the aws provider in your CDK for Terraform (CDKTF) projects by generating the bindings locally.

> tap@0.1.0 preinstall
> echo 'Skipping version checks for CI/CD'

Skipping version checks for CI/CD

> tap@0.1.0 prepare
> husky

.git can't be found
added 1977 packages, and audited 2321 packages in 3m

307 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (5 low, 1 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
```

## TypeScript Build
```

> tap@0.1.0 build
> tsc --skipLibCheck

```

## CDK Bootstrap
```

[33m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m
[33m‚ñà                                                                       ‚ñà[0m
[33m‚ñà  ‚ö† WARNING: You are using LEGACY EXPORTS from the aws-cdk package!    ‚ñà[0m
[33m‚ñà                                                                       ‚ñà[0m
[33m‚ñà  These exports were never officially supported and will be removed    ‚ñà[0m
[33m‚ñà  after 2026-03-01.                                                    ‚ñà[0m
[33m‚ñà  Please migrate to using the official CDK Toolkit Library instead:    ‚ñà[0m
[33m‚ñà  https://docs.aws.amazon.com/cdk/api/toolkit-lib/                     ‚ñà[0m
[33m‚ñà                                                                       ‚ñà[0m
[33m‚ñà  For more information: https://github.com/aws/aws-cdk-cli/issues/310  ‚ñà[0m
[33m‚ñà  To disable this warning: CDK_DISABLE_LEGACY_EXPORT_WARNING=1         ‚ñà[0m
[33m‚ñà                                                                       ‚ñà[0m
[33m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m

/home/ubuntu/.nvm/versions/node/v22.17.0/lib/node_modules/aws-cdk-local/src/index.js:18
    throw new EnvironmentMisconfigurationError("If specifying 'AWS_ENDPOINT_URL' then 'AWS_ENDPOINT_URL_S3' must be specified");
    ^

EnvironmentMisconfigurationError: If specifying 'AWS_ENDPOINT_URL' then 'AWS_ENDPOINT_URL_S3' must be specified
    at configureEnvironment (/home/ubuntu/.nvm/versions/node/v22.17.0/lib/node_modules/aws-cdk-local/src/index.js:18:11)
    at patchPost_2_14 (/home/ubuntu/.nvm/versions/node/v22.17.0/lib/node_modules/aws-cdk-local/bin/cdklocal:490:7)
    at Object.<anonymous> (/home/ubuntu/.nvm/versions/node/v22.17.0/lib/node_modules/aws-cdk-local/bin/cdklocal:508:3)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:171:5)

Node.js v22.17.0
```

## CDK Bootstrap (Retry with S3 endpoint)
```

[33m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m
[33m‚ñà                                                                       ‚ñà[0m
[33m‚ñà  ‚ö† WARNING: You are using LEGACY EXPORTS from the aws-cdk package!    ‚ñà[0m
[33m‚ñà                                                                       ‚ñà[0m
[33m‚ñà  These exports were never officially supported and will be removed    ‚ñà[0m
[33m‚ñà  after 2026-03-01.                                                    ‚ñà[0m
[33m‚ñà  Please migrate to using the official CDK Toolkit Library instead:    ‚ñà[0m
[33m‚ñà  https://docs.aws.amazon.com/cdk/api/toolkit-lib/                     ‚ñà[0m
[33m‚ñà                                                                       ‚ñà[0m
[33m‚ñà  For more information: https://github.com/aws/aws-cdk-cli/issues/310  ‚ñà[0m
[33m‚ñà  To disable this warning: CDK_DISABLE_LEGACY_EXPORT_WARNING=1         ‚ñà[0m
[33m‚ñà                                                                       ‚ñà[0m
[33m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m

[WARNING] aws-cdk-lib.aws_ec2.VpcProps#cidr is deprecated.
  Use ipAddresses instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_ec2.MachineImage#latestAmazonLinux is deprecated.
  use MachineImage.latestAmazonLinux2 instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_ec2.InstanceProps#keyName is deprecated.
  - Use `keyPair` instead - https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_ec2-readme.html#using-an-existing-ec2-key-pair
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_ec2.VpcProps#cidr is deprecated.
  Use ipAddresses instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_ec2.MachineImage#latestAmazonLinux is deprecated.
  use MachineImage.latestAmazonLinux2 instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_ec2.InstanceProps#keyName is deprecated.
  - Use `keyPair` instead - https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_ec2-readme.html#using-an-existing-ec2-key-pair
  This API will be removed in the next major release.
 ‚è≥  Bootstrapping environment aws://000000000000/us-east-1...
Trusted accounts for deployment: (none)
Trusted accounts for lookup: (none)
Using default execution policy of 'arn:aws:iam::aws:policy/AdministratorAccess'. Pass '--cloudformation-execution-policies' to customize.
CDKToolkit: creating CloudFormation changeset...
You used the --force flag, but CloudFormation reported that the deployment would not make any changes.
According to CloudFormation, all resources are already up-to-date with the state in your CDK app.

You cannot use the --force flag to get rid of changes you made in the console. Try using
CloudFormation drift detection instead: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html
 ‚úÖ  Environment aws://000000000000/us-east-1 bootstrapped (no changes).

NOTICES         (What's this? https://github.com/aws/aws-cdk/wiki/CLI-Notices)

34892	CDK CLI collects telemetry data on command usage starting at version 2.1100.0 (unless opted out)

	Overview: We do not collect customer content and we anonymize the
	          telemetry we do collect. See the attached issue for more
	          information on what data is collected, why, and how to
	          opt-out. Telemetry will NOT be collected for any CDK CLI
	          version prior to version 2.1100.0 - regardless of
	          opt-in/out. You can also view the telemetry we collect by
	          logging it to a local file, by adding
	          `--telemetry-file=my/local/file` to any `cdk` command.

	Affected versions: cli: ^2.1100.0

	More information at: https://github.com/aws/aws-cdk/issues/34892


If you don‚Äôt want to see a notice anymore, use "cdk acknowledge <id>". For example, "cdk acknowledge 34892".
```

## Deployment
```
[WARNING] aws-cdk-lib.aws_ec2.VpcProps#cidr is deprecated.
  Use ipAddresses instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_ec2.MachineImage#latestAmazonLinux is deprecated.
  use MachineImage.latestAmazonLinux2 instead
  This API will be removed in the next major release.
[WARNING] aws-cdk-lib.aws_ec2.InstanceProps#keyName is deprecated.
  - Use `keyPair` instead - https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_ec2-readme.html#using-an-existing-ec2-key-pair
  This API will be removed in the next major release.

‚ú®  Synthesis time: 5.32s

TapStackdev: start: Building TapStackdev/Custom::VpcRestrictDefaultSGCustomResourceProvider Code
TapStackdev: success: Built TapStackdev/Custom::VpcRestrictDefaultSGCustomResourceProvider Code
TapStackdev: start: Building TapStackdev/Custom::S3AutoDeleteObjectsCustomResourceProvider Code
TapStackdev: success: Built TapStackdev/Custom::S3AutoDeleteObjectsCustomResourceProvider Code
TapStackdev: start: Building TapStackdev Template
TapStackdev: success: Built TapStackdev Template
TapStackdev: start: Publishing TapStackdev/Custom::VpcRestrictDefaultSGCustomResourceProvider Code (000000000000-us-east-1-fa324105)
TapStackdev: start: Publishing TapStackdev/Custom::S3AutoDeleteObjectsCustomResourceProvider Code (000000000000-us-east-1-bbba35f2)
TapStackdev: start: Publishing TapStackdev Template (000000000000-us-east-1-7ee570b0)
TapStackdev: fail: exception while calling s3 with unknown operation: Unable to parse request (not well-formed (invalid token): line 1, column 0), invalid XML received:
b'{\n "Resources": {\n  "SecureNetworkingProductionVPC9A6CCC0C": {\n   "Type": "AWS::EC2::VPC",\n   "Properties": {\n    "CidrBlock": "10.0.0.0/16",\n    "EnableDnsHostnames": true,\n    "EnableDnsSupport": true,\n    "InstanceTenancy": "default",\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/Resource"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet1SubnetE62867BE": {\n   "Type": "AWS::EC2::Subnet",\n   "Properties": {\n    "AvailabilityZone": "us-east-1a",\n    "CidrBlock": "10.0.0.0/24",\n    "MapPublicIpOnLaunch": true,\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "aws-cdk:subnet-name",\n      "Value": "public"\n     },\n     {\n      "Key": "aws-cdk:subnet-type",\n      "Value": "Public"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1/Subnet"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet1RouteTable9F258742": {\n   "Type": "AWS::EC2::RouteTable",\n   "Properties": {\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1/RouteTable"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet1RouteTableAssociation55B7D517": {\n   "Type": "AWS::EC2::SubnetRouteTableAssociation",\n   "Properties": {\n    "RouteTableId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet1RouteTable9F258742"\n    },\n    "SubnetId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet1SubnetE62867BE"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1/RouteTableAssociation"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet1DefaultRouteF8F9F6B6": {\n   "Type": "AWS::EC2::Route",\n   "Properties": {\n    "DestinationCidrBlock": "0.0.0.0/0",\n    "GatewayId": {\n     "Ref": "SecureNetworkingProductionVPCIGWC995C18D"\n    },\n    "RouteTableId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet1RouteTable9F258742"\n    }\n   },\n   "DependsOn": [\n    "SecureNetworkingProductionVPCVPCGW932AED2E"\n   ],\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1/DefaultRoute"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet1EIP139C650D": {\n   "Type": "AWS::EC2::EIP",\n   "Properties": {\n    "Domain": "vpc",\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1/EIP"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet1NATGatewayDE97120D": {\n   "Type": "AWS::EC2::NatGateway",\n   "Properties": {\n    "AllocationId": {\n     "Fn::GetAtt": [\n      "SecureNetworkingProductionVPCpublicSubnet1EIP139C650D",\n      "AllocationId"\n     ]\n    },\n    "SubnetId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet1SubnetE62867BE"\n    },\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "DependsOn": [\n    "SecureNetworkingProductionVPCpublicSubnet1DefaultRouteF8F9F6B6",\n    "SecureNetworkingProductionVPCpublicSubnet1RouteTableAssociation55B7D517"\n   ],\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet1/NATGateway"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet2Subnet6D2C5331": {\n   "Type": "AWS::EC2::Subnet",\n   "Properties": {\n    "AvailabilityZone": "us-east-1b",\n    "CidrBlock": "10.0.1.0/24",\n    "MapPublicIpOnLaunch": true,\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "aws-cdk:subnet-name",\n      "Value": "public"\n     },\n     {\n      "Key": "aws-cdk:subnet-type",\n      "Value": "Public"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2/Subnet"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet2RouteTable84B501F3": {\n   "Type": "AWS::EC2::RouteTable",\n   "Properties": {\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2/RouteTable"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet2RouteTableAssociation5C0EC0E3": {\n   "Type": "AWS::EC2::SubnetRouteTableAssociation",\n   "Properties": {\n    "RouteTableId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet2RouteTable84B501F3"\n    },\n    "SubnetId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet2Subnet6D2C5331"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2/RouteTableAssociation"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet2DefaultRoute1B505B8E": {\n   "Type": "AWS::EC2::Route",\n   "Properties": {\n    "DestinationCidrBlock": "0.0.0.0/0",\n    "GatewayId": {\n     "Ref": "SecureNetworkingProductionVPCIGWC995C18D"\n    },\n    "RouteTableId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet2RouteTable84B501F3"\n    }\n   },\n   "DependsOn": [\n    "SecureNetworkingProductionVPCVPCGW932AED2E"\n   ],\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2/DefaultRoute"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet2EIPB8711436": {\n   "Type": "AWS::EC2::EIP",\n   "Properties": {\n    "Domain": "vpc",\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2/EIP"\n   }\n  },\n  "SecureNetworkingProductionVPCpublicSubnet2NATGateway17A87A79": {\n   "Type": "AWS::EC2::NatGateway",\n   "Properties": {\n    "AllocationId": {\n     "Fn::GetAtt": [\n      "SecureNetworkingProductionVPCpublicSubnet2EIPB8711436",\n      "AllocationId"\n     ]\n    },\n    "SubnetId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet2Subnet6D2C5331"\n    },\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "DependsOn": [\n    "SecureNetworkingProductionVPCpublicSubnet2DefaultRoute1B505B8E",\n    "SecureNetworkingProductionVPCpublicSubnet2RouteTableAssociation5C0EC0E3"\n   ],\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/publicSubnet2/NATGateway"\n   }\n  },\n  "SecureNetworkingProductionVPCprivatewithegressSubnet1Subnet71326BC6": {\n   "Type": "AWS::EC2::Subnet",\n   "Properties": {\n    "AvailabilityZone": "us-east-1a",\n    "CidrBlock": "10.0.2.0/24",\n    "MapPublicIpOnLaunch": false,\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "aws-cdk:subnet-name",\n      "Value": "private-with-egress"\n     },\n     {\n      "Key": "aws-cdk:subnet-type",\n      "Value": "Private"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet1"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet1/Subnet"\n   }\n  },\n  "SecureNetworkingProductionVPCprivatewithegressSubnet1RouteTable4691DDE2": {\n   "Type": "AWS::EC2::RouteTable",\n   "Properties": {\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet1"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet1/RouteTable"\n   }\n  },\n  "SecureNetworkingProductionVPCprivatewithegressSubnet1RouteTableAssociationB73FC48A": {\n   "Type": "AWS::EC2::SubnetRouteTableAssociation",\n   "Properties": {\n    "RouteTableId": {\n     "Ref": "SecureNetworkingProductionVPCprivatewithegressSubnet1RouteTable4691DDE2"\n    },\n    "SubnetId": {\n     "Ref": "SecureNetworkingProductionVPCprivatewithegressSubnet1Subnet71326BC6"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet1/RouteTableAssociation"\n   }\n  },\n  "SecureNetworkingProductionVPCprivatewithegressSubnet1DefaultRoute249B024C": {\n   "Type": "AWS::EC2::Route",\n   "Properties": {\n    "DestinationCidrBlock": "0.0.0.0/0",\n    "NatGatewayId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet1NATGatewayDE97120D"\n    },\n    "RouteTableId": {\n     "Ref": "SecureNetworkingProductionVPCprivatewithegressSubnet1RouteTable4691DDE2"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet1/DefaultRoute"\n   }\n  },\n  "SecureNetworkingProductionVPCprivatewithegressSubnet2Subnet36497081": {\n   "Type": "AWS::EC2::Subnet",\n   "Properties": {\n    "AvailabilityZone": "us-east-1b",\n    "CidrBlock": "10.0.3.0/24",\n    "MapPublicIpOnLaunch": false,\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "aws-cdk:subnet-name",\n      "Value": "private-with-egress"\n     },\n     {\n      "Key": "aws-cdk:subnet-type",\n      "Value": "Private"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet2"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet2/Subnet"\n   }\n  },\n  "SecureNetworkingProductionVPCprivatewithegressSubnet2RouteTable747A7E7D": {\n   "Type": "AWS::EC2::RouteTable",\n   "Properties": {\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet2"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet2/RouteTable"\n   }\n  },\n  "SecureNetworkingProductionVPCprivatewithegressSubnet2RouteTableAssociationE8B42DAA": {\n   "Type": "AWS::EC2::SubnetRouteTableAssociation",\n   "Properties": {\n    "RouteTableId": {\n     "Ref": "SecureNetworkingProductionVPCprivatewithegressSubnet2RouteTable747A7E7D"\n    },\n    "SubnetId": {\n     "Ref": "SecureNetworkingProductionVPCprivatewithegressSubnet2Subnet36497081"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet2/RouteTableAssociation"\n   }\n  },\n  "SecureNetworkingProductionVPCprivatewithegressSubnet2DefaultRoute51665BFF": {\n   "Type": "AWS::EC2::Route",\n   "Properties": {\n    "DestinationCidrBlock": "0.0.0.0/0",\n    "NatGatewayId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet2NATGateway17A87A79"\n    },\n    "RouteTableId": {\n     "Ref": "SecureNetworkingProductionVPCprivatewithegressSubnet2RouteTable747A7E7D"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/private-with-egressSubnet2/DefaultRoute"\n   }\n  },\n  "SecureNetworkingProductionVPCIGWC995C18D": {\n   "Type": "AWS::EC2::InternetGateway",\n   "Properties": {\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/SecureNetworking/ProductionVPC"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/IGW"\n   }\n  },\n  "SecureNetworkingProductionVPCVPCGW932AED2E": {\n   "Type": "AWS::EC2::VPCGatewayAttachment",\n   "Properties": {\n    "InternetGatewayId": {\n     "Ref": "SecureNetworkingProductionVPCIGWC995C18D"\n    },\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/VPCGW"\n   }\n  },\n  "SecureNetworkingProductionVPCRestrictDefaultSecurityGroupCustomResourceDEBA9555": {\n   "Type": "Custom::VpcRestrictDefaultSG",\n   "Properties": {\n    "ServiceToken": {\n     "Fn::GetAtt": [\n      "CustomVpcRestrictDefaultSGCustomResourceProviderHandlerDC833E5E",\n      "Arn"\n     ]\n    },\n    "DefaultSecurityGroupId": {\n     "Fn::GetAtt": [\n      "SecureNetworkingProductionVPC9A6CCC0C",\n      "DefaultSecurityGroup"\n     ]\n    },\n    "Account": "000000000000"\n   },\n   "UpdateReplacePolicy": "Delete",\n   "DeletionPolicy": "Delete",\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/ProductionVPC/RestrictDefaultSecurityGroupCustomResource/Default"\n   }\n  },\n  "SecureNetworkingWebServerSecurityGroup14110267": {\n   "Type": "AWS::EC2::SecurityGroup",\n   "Properties": {\n    "GroupDescription": "Security group for web server",\n    "SecurityGroupEgress": [\n     {\n      "CidrIp": "0.0.0.0/0",\n      "Description": "Allow all outbound traffic by default",\n      "IpProtocol": "-1"\n     }\n    ],\n    "SecurityGroupIngress": [\n     {\n      "CidrIp": "203.0.113.0/24",\n      "Description": "SSH access from authorized IP",\n      "FromPort": 22,\n      "IpProtocol": "tcp",\n      "ToPort": 22\n     },\n     {\n      "CidrIp": "0.0.0.0/0",\n      "Description": "HTTP access",\n      "FromPort": 80,\n      "IpProtocol": "tcp",\n      "ToPort": 80\n     },\n     {\n      "CidrIp": "0.0.0.0/0",\n      "Description": "HTTPS access",\n      "FromPort": 443,\n      "IpProtocol": "tcp",\n      "ToPort": 443\n     }\n    ],\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/WebServerSecurityGroup/Resource"\n   }\n  },\n  "SecureNetworkingFirewallPolicy25F7E434": {\n   "Type": "AWS::NetworkFirewall::FirewallPolicy",\n   "Properties": {\n    "FirewallPolicy": {\n     "StatefulRuleGroupReferences": [],\n     "StatelessDefaultActions": [\n      "aws:pass"\n     ],\n     "StatelessFragmentDefaultActions": [\n      "aws:pass"\n     ]\n    },\n    "FirewallPolicyName": "production-firewall-policy",\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/FirewallPolicy"\n   }\n  },\n  "SecureNetworkingNetworkFirewall58F8607E": {\n   "Type": "AWS::NetworkFirewall::Firewall",\n   "Properties": {\n    "FirewallName": "production-network-firewall",\n    "FirewallPolicyArn": {\n     "Fn::GetAtt": [\n      "SecureNetworkingFirewallPolicy25F7E434",\n      "FirewallPolicyArn"\n     ]\n    },\n    "SubnetMappings": [\n     {\n      "SubnetId": {\n       "Ref": "SecureNetworkingProductionVPCpublicSubnet1SubnetE62867BE"\n      }\n     },\n     {\n      "SubnetId": {\n       "Ref": "SecureNetworkingProductionVPCpublicSubnet2Subnet6D2C5331"\n      }\n     }\n    ],\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VpcId": {\n     "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureNetworking/NetworkFirewall"\n   }\n  },\n  "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0": {\n   "Type": "AWS::IAM::Role",\n   "Properties": {\n    "AssumeRolePolicyDocument": {\n     "Version": "2012-10-17",\n     "Statement": [\n      {\n       "Action": "sts:AssumeRole",\n       "Effect": "Allow",\n       "Principal": {\n        "Service": "lambda.amazonaws.com"\n       }\n      }\n     ]\n    },\n    "ManagedPolicyArns": [\n     {\n      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"\n     }\n    ],\n    "Policies": [\n     {\n      "PolicyName": "Inline",\n      "PolicyDocument": {\n       "Version": "2012-10-17",\n       "Statement": [\n        {\n         "Effect": "Allow",\n         "Action": [\n          "ec2:AuthorizeSecurityGroupIngress",\n          "ec2:AuthorizeSecurityGroupEgress",\n          "ec2:RevokeSecurityGroupIngress",\n          "ec2:RevokeSecurityGroupEgress"\n         ],\n         "Resource": [\n          {\n           "Fn::Join": [\n            "",\n            [\n             "arn:aws:ec2:us-east-1:000000000000:security-group/",\n             {\n              "Fn::GetAtt": [\n               "SecureNetworkingProductionVPC9A6CCC0C",\n               "DefaultSecurityGroup"\n              ]\n             }\n            ]\n           ]\n          }\n         ]\n        }\n       ]\n      }\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role"\n   }\n  },\n  "CustomVpcRestrictDefaultSGCustomResourceProviderHandlerDC833E5E": {\n   "Type": "AWS::Lambda::Function",\n   "Properties": {\n    "Code": {\n     "S3Bucket": "cdk-hnb659fds-assets-000000000000-us-east-1",\n     "S3Key": "7fa1e366ee8a9ded01fc355f704cff92bfd179574e6f9cfee800a3541df1b200.zip"\n    },\n    "Timeout": 900,\n    "MemorySize": 128,\n    "Handler": "__entrypoint__.handler",\n    "Role": {\n     "Fn::GetAtt": [\n      "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0",\n      "Arn"\n     ]\n    },\n    "Runtime": "nodejs22.x",\n    "Description": "Lambda function for removing all inbound/outbound rules from the VPC default security group"\n   },\n   "DependsOn": [\n    "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0"\n   ],\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler",\n    "aws:asset:path": "asset.7fa1e366ee8a9ded01fc355f704cff92bfd179574e6f9cfee800a3541df1b200",\n    "aws:asset:property": "Code"\n   }\n  },\n  "SecureStorageS3EncryptionKey65F66E48": {\n   "Type": "AWS::KMS::Key",\n   "Properties": {\n    "Description": "KMS key for S3 bucket encryption",\n    "EnableKeyRotation": true,\n    "KeyPolicy": {\n     "Statement": [\n      {\n       "Action": "kms:*",\n       "Effect": "Allow",\n       "Principal": {\n        "AWS": "arn:aws:iam::000000000000:root"\n       },\n       "Resource": "*"\n      }\n     ],\n     "Version": "2012-10-17"\n    },\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "UpdateReplacePolicy": "Delete",\n   "DeletionPolicy": "Delete",\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureStorage/S3EncryptionKey/Resource"\n   }\n  },\n  "SecureStorageLoggingBucket7FEB97B8": {\n   "Type": "AWS::S3::Bucket",\n   "Properties": {\n    "BucketEncryption": {\n     "ServerSideEncryptionConfiguration": [\n      {\n       "ServerSideEncryptionByDefault": {\n        "KMSMasterKeyID": {\n         "Fn::GetAtt": [\n          "SecureStorageS3EncryptionKey65F66E48",\n          "Arn"\n         ]\n        },\n        "SSEAlgorithm": "aws:kms"\n       }\n      }\n     ]\n    },\n    "BucketName": "production-logs-dev-000000000000",\n    "LifecycleConfiguration": {\n     "Rules": [\n      {\n       "ExpirationInDays": 90,\n       "Id": "delete-old-logs",\n       "NoncurrentVersionExpiration": {\n        "NoncurrentDays": 30\n       },\n       "Status": "Enabled"\n      }\n     ]\n    },\n    "PublicAccessBlockConfiguration": {\n     "BlockPublicAcls": true,\n     "BlockPublicPolicy": true,\n     "IgnorePublicAcls": true,\n     "RestrictPublicBuckets": true\n    },\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "aws-cdk:auto-delete-objects",\n      "Value": "true"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "VersioningConfiguration": {\n     "Status": "Enabled"\n    }\n   },\n   "UpdateReplacePolicy": "Delete",\n   "DeletionPolicy": "Delete",\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureStorage/LoggingBucket/Resource"\n   }\n  },\n  "SecureStorageLoggingBucketPolicy090A96ED": {\n   "Type": "AWS::S3::BucketPolicy",\n   "Properties": {\n    "Bucket": {\n     "Ref": "SecureStorageLoggingBucket7FEB97B8"\n    },\n    "PolicyDocument": {\n     "Statement": [\n      {\n       "Action": "s3:*",\n       "Condition": {\n        "Bool": {\n         "aws:SecureTransport": "false"\n        }\n       },\n       "Effect": "Deny",\n       "Principal": {\n        "AWS": "*"\n       },\n       "Resource": [\n        {\n         "Fn::GetAtt": [\n          "SecureStorageLoggingBucket7FEB97B8",\n          "Arn"\n         ]\n        },\n        {\n         "Fn::Join": [\n          "",\n          [\n           {\n            "Fn::GetAtt": [\n             "SecureStorageLoggingBucket7FEB97B8",\n             "Arn"\n            ]\n           },\n           "/*"\n          ]\n         ]\n        }\n       ]\n      },\n      {\n       "Action": [\n        "s3:DeleteObject*",\n        "s3:GetBucket*",\n        "s3:List*",\n        "s3:PutBucketPolicy"\n       ],\n       "Effect": "Allow",\n       "Principal": {\n        "AWS": {\n         "Fn::GetAtt": [\n          "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",\n          "Arn"\n         ]\n        }\n       },\n       "Resource": [\n        {\n         "Fn::GetAtt": [\n          "SecureStorageLoggingBucket7FEB97B8",\n          "Arn"\n         ]\n        },\n        {\n         "Fn::Join": [\n          "",\n          [\n           {\n            "Fn::GetAtt": [\n             "SecureStorageLoggingBucket7FEB97B8",\n             "Arn"\n            ]\n           },\n           "/*"\n          ]\n         ]\n        }\n       ]\n      }\n     ],\n     "Version": "2012-10-17"\n    }\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureStorage/LoggingBucket/Policy/Resource"\n   }\n  },\n  "SecureStorageLoggingBucketAutoDeleteObjectsCustomResourceB503E01C": {\n   "Type": "Custom::S3AutoDeleteObjects",\n   "Properties": {\n    "ServiceToken": {\n     "Fn::GetAtt": [\n      "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",\n      "Arn"\n     ]\n    },\n    "BucketName": {\n     "Ref": "SecureStorageLoggingBucket7FEB97B8"\n    }\n   },\n   "DependsOn": [\n    "SecureStorageLoggingBucketPolicy090A96ED"\n   ],\n   "UpdateReplacePolicy": "Delete",\n   "DeletionPolicy": "Delete",\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/SecureStorage/LoggingBucket/AutoDeleteObjectsCustomResource/Default"\n   }\n  },\n  "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": {\n   "Type": "AWS::IAM::Role",\n   "Properties": {\n    "AssumeRolePolicyDocument": {\n     "Version": "2012-10-17",\n     "Statement": [\n      {\n       "Action": "sts:AssumeRole",\n       "Effect": "Allow",\n       "Principal": {\n        "Service": "lambda.amazonaws.com"\n       }\n      }\n     ]\n    },\n    "ManagedPolicyArns": [\n     {\n      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role"\n   }\n  },\n  "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": {\n   "Type": "AWS::Lambda::Function",\n   "Properties": {\n    "Code": {\n     "S3Bucket": "cdk-hnb659fds-assets-000000000000-us-east-1",\n     "S3Key": "faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6.zip"\n    },\n    "Timeout": 900,\n    "MemorySize": 128,\n    "Handler": "index.handler",\n    "Role": {\n     "Fn::GetAtt": [\n      "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",\n      "Arn"\n     ]\n    },\n    "Runtime": "nodejs22.x",\n    "Description": {\n     "Fn::Join": [\n      "",\n      [\n       "Lambda function for auto-deleting objects in ",\n       {\n        "Ref": "SecureStorageLoggingBucket7FEB97B8"\n       },\n       " S3 bucket."\n      ]\n     ]\n    }\n   },\n   "DependsOn": [\n    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092"\n   ],\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler",\n    "aws:asset:path": "asset.faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6",\n    "aws:asset:property": "Code"\n   }\n  },\n  "WebServerWebServerRole0EEDBDEC": {\n   "Type": "AWS::IAM::Role",\n   "Properties": {\n    "AssumeRolePolicyDocument": {\n     "Statement": [\n      {\n       "Action": "sts:AssumeRole",\n       "Effect": "Allow",\n       "Principal": {\n        "Service": "ec2.amazonaws.com"\n       }\n      }\n     ],\n     "Version": "2012-10-17"\n    },\n    "ManagedPolicyArns": [\n     {\n      "Fn::Join": [\n       "",\n       [\n        "arn:",\n        {\n         "Ref": "AWS::Partition"\n        },\n        ":iam::aws:policy/CloudWatchAgentServerPolicy"\n       ]\n      ]\n     }\n    ],\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/WebServer/WebServerRole/Resource"\n   }\n  },\n  "WebServerWebServerRoleDefaultPolicy624ACA14": {\n   "Type": "AWS::IAM::Policy",\n   "Properties": {\n    "PolicyDocument": {\n     "Statement": [\n      {\n       "Action": [\n        "s3:Abort*",\n        "s3:DeleteObject*",\n        "s3:PutObject",\n        "s3:PutObjectLegalHold",\n        "s3:PutObjectRetention",\n        "s3:PutObjectTagging",\n        "s3:PutObjectVersionTagging"\n       ],\n       "Effect": "Allow",\n       "Resource": [\n        {\n         "Fn::GetAtt": [\n          "SecureStorageLoggingBucket7FEB97B8",\n          "Arn"\n         ]\n        },\n        {\n         "Fn::Join": [\n          "",\n          [\n           {\n            "Fn::GetAtt": [\n             "SecureStorageLoggingBucket7FEB97B8",\n             "Arn"\n            ]\n           },\n           "/*"\n          ]\n         ]\n        }\n       ]\n      },\n      {\n       "Action": [\n        "kms:Decrypt",\n        "kms:Encrypt",\n        "kms:GenerateDataKey*",\n        "kms:ReEncrypt*"\n       ],\n       "Effect": "Allow",\n       "Resource": {\n        "Fn::GetAtt": [\n         "SecureStorageS3EncryptionKey65F66E48",\n         "Arn"\n        ]\n       }\n      }\n     ],\n     "Version": "2012-10-17"\n    },\n    "PolicyName": "WebServerWebServerRoleDefaultPolicy624ACA14",\n    "Roles": [\n     {\n      "Ref": "WebServerWebServerRole0EEDBDEC"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/WebServer/WebServerRole/DefaultPolicy/Resource"\n   }\n  },\n  "WebServerWebServerInstanceInstanceProfileC4EBEB03": {\n   "Type": "AWS::IAM::InstanceProfile",\n   "Properties": {\n    "Roles": [\n     {\n      "Ref": "WebServerWebServerRole0EEDBDEC"\n     }\n    ]\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/WebServer/WebServerInstance/InstanceProfile"\n   }\n  },\n  "WebServerWebServerInstance52CCC93F": {\n   "Type": "AWS::EC2::Instance",\n   "Properties": {\n    "AvailabilityZone": "us-east-1a",\n    "IamInstanceProfile": {\n     "Ref": "WebServerWebServerInstanceInstanceProfileC4EBEB03"\n    },\n    "ImageId": {\n     "Ref": "SsmParameterValueawsserviceamiamazonlinuxlatestamzn2amihvmx8664gp2C96584B6F00A464EAD1953AFF4B05118Parameter"\n    },\n    "InstanceType": "t3.micro",\n    "SecurityGroupIds": [\n     {\n      "Fn::GetAtt": [\n       "SecureNetworkingWebServerSecurityGroup14110267",\n       "GroupId"\n      ]\n     }\n    ],\n    "SubnetId": {\n     "Ref": "SecureNetworkingProductionVPCpublicSubnet1SubnetE62867BE"\n    },\n    "Tags": [\n     {\n      "Key": "Author",\n      "Value": "unknown"\n     },\n     {\n      "Key": "Environment",\n      "Value": "Production"\n     },\n     {\n      "Key": "Name",\n      "Value": "TapStackdev/WebServer/WebServerInstance"\n     },\n     {\n      "Key": "Project",\n      "Value": "SecureWebInfrastructure"\n     },\n     {\n      "Key": "Repository",\n      "Value": "unknown"\n     }\n    ],\n    "UserData": {\n     "Fn::Base64": {\n      "Fn::Join": [\n       "",\n       [\n        "#!/bin/bash\\nyum update -y\\nyum install -y httpd\\nsystemctl start httpd\\nsystemctl enable httpd\\necho \\"<h1>Production Web Server</h1>\\" > /var/www/html/index.html\\nwget https://s3.amazonaws.com/amazoncloudwatch-agent/amazon_linux/amd64/latest/amazon-cloudwatch-agent.rpm\\nrpm -U ./amazon-cloudwatch-agent.rpm\\naws logs create-log-group --log-group-name /aws/ec2/webserver --region us-east-1\\naws s3 sync /var/log/httpd/ s3://",\n        {\n         "Ref": "SecureStorageLoggingBucket7FEB97B8"\n        },\n        "/httpd-logs/"\n       ]\n      ]\n     }\n    }\n   },\n   "DependsOn": [\n    "WebServerWebServerRoleDefaultPolicy624ACA14",\n    "WebServerWebServerRole0EEDBDEC"\n   ],\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/WebServer/WebServerInstance/Resource"\n   }\n  },\n  "CDKMetadata": {\n   "Type": "AWS::CDK::Metadata",\n   "Properties": {\n    "Analytics": "v2:deflate64:H4sIAAAAAAAA/9VWTW/jNhD9LctjwKi7LrBFfVOcdis4Gxt2sIcaQTGixg5jilT5YVcV9N8L8cNW0s2iQHtwTyIfOW+GwzdDTbLJhx+z9+/gaK5Ztb8WvMy6tQW2p3A0v3XIJln3pWGbjtTwR/6nIVNyRShhvNJxaFwp0c6U3PKd02C5kmS66fyWz2D2cZuEGl9YPLTNACxdKTgjPf3nFpofwCLpHylBCaXAW2l+UcYOBoZMrXY4Wlm7plHaBrx/pLOt/LKc0eB37Yk3HYEDcAElF9y2vyqZHB8aVlSjM98IxVJ8NTSBpGgW8g6cZE/JOW8OH2evtoMxfCeL5vAxryqNxizkTGPMF7nyGbiIKHwgVXUP9hNYPEJLphtyRR4vJsDLiOLNNHmJBWENo5VyFh8GMZ7xM5Yboxj3xKfNw+CnYjl8zuw0yv4/V+wWhLmAu/h3YVxOJBcSRlBhIS1qiScNhd4XZ7m1wJ5qlJaukTnNbftJK9dsuiHY6KpCwzRvTtSUgBDqmAuxcLZUTlaxsYZqKORuiGflBIZHAGQhBZcYkFBwTEmJbKBMz4mT/HeHMT/+Ok8N5//AGSp+nENaSGNBMnyRzEMTHxxDpt0bzyAxY55oyCNb3Bw0w564xKKGXYKcQX0LFuJUK5FW9tjep9c0KSMw9lSiPSq933KNRxAi62Zb+XOcLJXgzMsmIT3d1ybr5thuuq+II7y6c2xXykY9hlxqrNUBIiGZDqZWqzZGM8e2p+b7rLtxbO+7W+kH9+dfAJRMt8nV/PP6BTTHNqUYteFKYpUcl0PdhOzmjKFJV/lWQJSAs+oWBVpclM/I7OiXYqs0w/X6LiGCb5G1THjZGK8kXr1IRSqPJLy7scW3DKjHTuoKiaHhE4I+ZWl0reP1nnKos26lxKBCMMbVWN20g/QazSXjDYicMeWkPfcVV+NgkLNRMyE1SNhh5Wl5POcYa3Md96ZjPqhlcpEyvOniqm87odpOa6fS/Obi27yP4fEUSGNuhvMkuge18qXwysvf4apaW7A4tEQzCvgrsPd3ro5UTUuttlxg39MVGuU0Q09OZ85YVY8xGvCtTOCrPUutDrxCfQMGaW4M2rWFHZc77xg01GhRD5OFs42zPZWqwuzZfHeYTLIPP2Tv3z0bzq+1k5bXmK3C9y8cFR7u8AsAAA=="\n   },\n   "Metadata": {\n    "aws:cdk:path": "TapStackdev/CDKMetadata/Default"\n   }\n  }\n },\n "Parameters": {\n  "SsmParameterValueawsserviceamiamazonlinuxlatestamzn2amihvmx8664gp2C96584B6F00A464EAD1953AFF4B05118Parameter": {\n   "Type": "AWS::SSM::Parameter::Value<AWS::EC2::Image::Id>",\n   "Default": "/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2"\n  },\n  "BootstrapVersion": {\n   "Type": "AWS::SSM::Parameter::Value<String>",\n   "Default": "/cdk-bootstrap/hnb659fds/version",\n   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"\n  }\n },\n "Outputs": {\n  "VPCId": {\n   "Description": "VPC ID",\n   "Value": {\n    "Ref": "SecureNetworkingProductionVPC9A6CCC0C"\n   }\n  },\n  "LogBucketName": {\n   "Description": "S3 Log Bucket Name",\n   "Value": {\n    "Ref": "SecureStorageLoggingBucket7FEB97B8"\n   }\n  },\n  "KMSKeyId": {\n   "Description": "KMS Key ID for S3 encryption",\n   "Value": {\n    "Ref": "SecureStorageS3EncryptionKey65F66E48"\n   }\n  }\n },\n "Rules": {\n  "CheckBootstrapVersion": {\n   "Assertions": [\n    {\n     "Assert": {\n      "Fn::Not": [\n       {\n        "Fn::Contains": [\n         [\n          "1",\n          "2",\n          "3",\n          "4",\n          "5"\n         ],\n         {\n          "Ref": "BootstrapVersion"\n         }\n        ]\n       }\n      ]\n     },\n     "AssertDescription": "CDK bootstrap stack version 6 required. Please run \'cdk bootstrap\' with a recent version of the CDK CLI."\n    }\n   ]\n  }\n }\n}'
TapStackdev: fail: exception while calling s3 with unknown operation: Unable to parse request (not well-formed (invalid token): line 1, column 2), invalid XML received:
b'PK\x03\x04\x14\x00\x08\x00\x08\x00\x00\x00!\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08\x00\x00\x00index.js\x95W\xefo\xdb\xbc\x11\xfe\xbe\xbf\x82!\x8a\x94\x0c\x186m7l\xa0\xc7xi\xe2.^\xd3\xc4\x88\x9d\xf7\xc5\x10\x14\r#\x9d,-2\xa9\x92T\\C\xd6\xff>P?\x1c7\xf6^`\x1f\x0c\x8b\'\x91<>\xf7\xdcsG\\:@\xce\xdb,\xf2x\xf0\xac,J\xe4\xcd\xe3\x7f \xf2<\xb2\xa0<\xb0\xac\x1f\xc7\x90d\x1a&\xd6\x14`\xfd\x8a\x8d{\xfb\x1c\xfc\xcdR\xf7\xf6\x0bp\x91\xcd\no,;\xdf\xff\xc5\xb5Z\x80c\xcb\xad\x97\x13k\xbc\xf1\xab\x02n\x126\xe9\xedEo\xe4\xa9r[\x1b\xb03I<\x03*O\xab\xc4X\x12\\6(\xd3\x08hF<3\xac\x9a\x83\x17po\xbe1\xd0\xe5\x02\xacz\xccA\x1c\x9c\xd4\xb4fq3\x93\x19f\xc3\xec,!px\x18\xb65\t\x02)\xb1i\xce\x8d\xd7\xeb-[R\xea\xc8gFc\x1a6\xcb\xc1#\x87L\x82\xce\tPz0\xe1\x91\xcas\xe2\x99\xa3\x87\x87\xee@Jsx\x18\x9cp\xad\x13\x84\xcaS\xb8w\xbf:B\xac\x1c\x13`\x8e\xd2\xf5\xda\xf2\x17\x17k:\xb0\xe0K\xab\x91\xafY\xde9J\xe5)1\xd2\x1fH]\xe6\xf90!K\xe2)\x15U\xcdb\x02\xeb\xf5\x81\x0f?\xfe\xfd;\xb8\xaf&.s\x18f\xc40\x1cC\xa2\xca\xdccV=\xab\xbc\x04\xe1_\x03!\x0c\xf3\x94\xb2O\xd2\xcb\xd3\x98d\xa4\xaa\x19~Yd3/`\xc6<e?dU\x0f\xce\xc8\x0fV\xa9\xd2\x9b\x0b\xc8\xc1\xc3\xa5\xd2q\x0eV\x84#NY\xba5\xba\xac)[4\xdep\xf8Y\x18\xeb\x9d\xfcD~\xd0\x86Z\xa9\xb4\xf0\xa3\xcc,\x10\xfc\x0f\xb5t\xc7.~z\x17\xe5\x19h\x7f\xec>b\xcaV2\'\x9b/R\xef\x0b\x87)e\x8bmki\xf3`S\xb2r\xa0\xe3K\xef\x8b[\xf8Q\x82\xf3\xe2\x82\xe5f.f,\xd3Q^\xc60\xf5*z\x9aY\x15\x81\x13\x07\'\xact`;\xa7\xc7:\x86\x9f\x02\xf3wYx\xc05+$>\xfb}z~\xf1E\x88\xf3\xd2y\xb3\xb8\x05gJ\x1b\x05\xae?g1\xd8\xcfV-`i\xec\x93\x10\xe7\xb7\xa3\xb3\xd9\xe8\xfb\xe7\xb3\xf1\xd5\xe8\x02\xb3\xab\xffc\xea\xd7\xf1t:\xbe\xfe\xe7\xf7\xc9\xe5\xbf\xa7\xe3\xf3\xb3\xab\xef\xe3\x0b<\xe8\xf9\x85n\x89\xa7U\xc7\x00\xe5V:"\xc0L\xa0i\xe0\x9c\x95\x15\xe7\x1c\xd8-\xb8\xc2h\x07w\xb7W\x02s\xceq=\xc8\x12\xa2xn\xe6\xe4_\xd3\x9bk\x1e\x12Y\xcf\xb3dE,{6Y\x8cN\xd8\x07J\x19\xf0\x0e\xa5\xd9\xaa\x00)%n\xa3\x88\x0f\x0f\x81O\xd2\x95\xcb"\x95\xf7\x87\x1e\xc7R\xca\x82V\xed\xaa8\x9bk\x13\xd6D\x17\xa3\xab\xd1l\x84\xe0\x19\xb4G\x91*\x1d\xc4\xe8q\x85\x14JT\x96C\x8cZd\xda\xf7\x982\xb5T\x99G%\xc1\xd3\xbb\xf3\xf3\xd1t\x8a\x19\xf4\x0c\xaf\xbd]5\xc7r\xb2\xfd\xca\x13\xcb\x0ceZ>5\x991\xd8\x9d\xabi\x1d)\x1f\xa5\xc4\xd1f\xa6\xde\x00\xa2\x9c\xd1B\xf1\xdd\xa8\x0f\x1dw\x81\x03\xc2\xf1\x058\xa7\xe6P\x0f\xf4\x9e\xd3\xae\xd7d\x07\x9e\xf3F\xfa\xf0\xb0\x83\x16wgkO\xca\x90m\xc2\x10\x07T\x96\x99O\x91B\x0be\x9f\xc0\xa2\xa2\xc32|\xd10\x08e1r\x06\xf9Ty\xe4S@\xae|t\x81\xaf\xda\xf7x.\xb3<G\x8f\x80\x1a\x9c!\xc6\x94\xedsR\x16T\xb4\x01y\x18\xdd\xde\xde\xdc\n\xf4U\xe5\x89\xb1\x0b\x88[\xc49\xc2\xbb\x81\xc4(s\xa8K\xa8X\xa07\xd5+\x8e\x00\xad\x1fB2\xf5\xa1\xeaY\xadi]\xd7\x1bf>\x05\xb9\x95U\xdd"o\xe4>\xca\x0c\x87~\x0f\xb4\xc1\xda\x11o\x1c\x07\xa6n\x86;<4\x07R\xee[\x82\xfa\xd4\x9a%\xd2\xb0D#k\x8d%\x0f-\x0f\x05\x8a\x94\xd6\xc6\xa3(Uz\x0e\r\xb8\xbb\xe8\x8f/Pb\xcd\x02\xe17\xd5\xbe\xc5k\x8c\xbc\t/\xf7\x1d\xa9\xc6(.\x1b\xe6\xc7A\xf22\xa3\x1fz\x02\x87d\xf4\xac\xc9\xc8]\xd0\x85\xa9\xeb&\x81\xd1\x06\xc1\xb2)X\rq\x8d\xac\xa6^\xf9\xd2\t\xcfn\xa1!o`_x\x18\x0e=kTk\x1c\x0b\xe0\xdd\x13\xdb\xe0\'6,\x1d\xc7l\xcf\xb6\xfb\xce\xb0^_\xb1+3\xff5\xbd\x05\xf0\x1d\x1b\xbb6\xa3(5\x02x\xfb\xc0.\x94W\x02x\xf8\xab\x99\x95\x0b^(\xeb\xa0\xc9\x94\x8d\x04Q\xe6\xe4\xc3\x9b\xca\xf2\xa6TG&\xaf\xdf\xbd\x0b\xc3\xd48\xaf\xd5\x02\xeafT(\x9f6\xa3\xe1\xd1\xd1\xd1\xc3\xa0\x93\x15W>.2\xdfe\x92\x83\x10\x87(7e\x1c8\xad\x9a\x82\xcb\x1c3t\x10\xd4O\xcbW\xbc5\x94\x8dd\xd5o#^vda3ay\xf8c\x0b\xf0\xa9\x89\x05\x9e\xdc\xcd0KA\xc5`\x9d\xa8pd\xb4\x0f\x15\'\x14y,0f\x1bK\x0ez\xeeS,>\x95I\x02\x96?\xae<\\5&\xa2\x19.}\xf27L\xeb\xba\x13\xa7\x1bR)\xefaQx\'\xfe\xc2\\\x0eP\x88\xf7\xf0\xb1f\x8a\xbf*L\x94\x8c\x98\xa6\xaf)q\xd1R\xa2\x13\xfc@\xef\x895\x8b\xcc\x01!]{\xf2"\x92+\x1er\x18\x9c\'\x9eiyZin\xc1\x95\x0b \x94\x1d\xe8 r\xbet\xe7&\x86\xf5z{t*\xff|r2\xb4d+u\xee\xb4+\xa3\x08\x9cK\xca\x1c]\xcef\x93\r\xfeA\x1c\xb6\'\x07]\x10\x86\xd0\x9a\x0e\x1c7\x9a`\x08\xc9\x87\x99\xa5\xcc\xf1\xa5\xcd<\x10\x08\x8f\xa0c\xb2%\xcd\x968Z\xd7\xf4E;f\xa4\xcd\x13ZEF;\x93CS\xaa:\xdb\xcbg7\xbf\xa0\xd1\x96?\xce\xf9V\xfd\xf3\xbc\x87\x9b9\xe9y\x03\xf8 \xb4d\x83\x01\rH\xf5\x95\xb3\x912 \xcd\xe4\xaedh\x1aZ={|\xfcwy\xd2\xcbI\x17\xc5G\xf2U\xf9\x94\'\xb91\xb6}\xb4J\xc7fA\xe8\x91\xa3\x94\xb9#\xf9\xa1\xde\xc9\xe6\xc7\xadJ\xbd\x1d8\x90\xa7\x0e\xfc,[\x80)=\x81\xd0c\xd5\xa1;\x9dK\x1c\x9a\x9d(~\x12\xa1\x81:n\xe4\x04\x8e\xdbn\xd3a\xf6\xf35\xbd\xab\xdf\xc0\xba\xcch\x81?\x9c\xbc\xffp\xfc\xfe\xe4\xf8\xfd_q\x90\x06\x0f\x0b\xd0^\xdc\x7f\xab)\x8bd\xd8;\xe5\xd3\x8f\xa4\xaa)\xbb\x94\xb7dJ\x07\xaf\x84g\x1a\\u\xcb,T\xce_\xb4\x97V\x91r\x80\xbb:\'Z\xf4\x06\x8d\xed\xae\x88\x95\x07\xdc\xd9\xaa=JC\xda\x82\xf194\xa3{T\xbfn\xd7\xe9Z\x8cn\x1dt\xdd8\xb0\xe9\xab\xc2\x1d"\x037\xe4\x9f\xca\xe8\t|\xb8\x13\xd0\x1d\xa4\xc3\x0e\x8dj\x82\xf4,\x14\x9e\x9b<\xee\xdb\x94\xee\xbe\xf1j\x8d\xae\x87\xde\xe7u\x90\xcf?\xda~8\xdc\x15\xee\xef\xc1\x81>\x11Av\x07\x8f\xf8\x1c|\xeb\xf7\xc4\xe4Y\xb4"U;\x12\xbe\xa6t\xc8[\xe3p\xf8\x93\x996\xb4\x9dv\xd2\x81\t\xb2\xdeF\x91\x17\xa5KI5\xb1\x99\x8e\xb2B\xe5\x02\x1fa6J\x12\x88\xbc\xc0\x17\xa0W\x98\x9d57\x0fq\x8f\xddG1)}{-\xc3\xdfB\x17\xd84\x17\xe2\xfeAY-\xd4\xd2\t\xf7Q\x08\xf1\xa6\xf2\xf5\xbb\xa3\x87\xc0\x8e6B\x11/\xca\xff\xe1(k\x9d\x14;\xcaZ\xf7\xe9\x0cM\xda\x00\x0f\xda\x1dZ\xc6k3-\xa3\xb4=(\xee\xf2\x08\x06\xdbi\xfdpn\xca<F\xa1*\xbb \xdb\xb0D-\xc9Q\x0cz\x85\x8a\x06+d4zlb\x8e\xde\x06\x87\xdf\xa2\xc2f\xc6\x86\x02\xd0\xd7Y\xfe\xb0K\x85\xbb\r\x15\x06\xb1\xa9\xa0k\x1c#\x9eg\xae\x03\xa6K\x1a\xb7\x1d\x8c\xa6|\x18y\x1fJ5\xef?\x18\x0e\xef\xbf5\xc5\x9b\xb7\x14\xfd\xda\xf4n.\x98\xbf\x85&\xc5\xf0\xb6\x10H)Oh\x97\x19m\x13n\xf8B\x15\xc4\xc9SR}\x81\x95p\xfc\x0b\xacX\xb7\xec8\x16\xae\xdfb\x1c\xd7\x94v\x12\x13\xf16\xdf\xdb\xe8my\xc7\xda\xddE\xd5\xbd\x116(\xe72\xcdr 0\xe4c7\xb3\xa5\x8e\x94\x87x\xa7x\\\x070\xb2\x84\x1c\xf8^\xcf6\xed\x11\xbe6\xe8%\xa5\xd0R9T\xb4\xb7\x98\x98c:\x08\\\x0e\x13[~\xfc\x1e2\xf8\x17e~h\xe7\xa2\xd8\x80k\x02\x99\xaag\x08\x81\x9a\xd7o\x91Ws\x86\xdcSV\x14\xa1\xf3\x8drP:\xd3s\xbei\x8b\xeav\xd5\x904\x1d\x01C\xd4:\x15\xfec:\xedu\xa2\xe3\xc7\xc6\x17\xf8\x999\xbf\xb5]\xdb\x1a\xc2\x8el\x84cu\x05a7cgj>\xcf\xf4|\x9b%\x94\xcf\xd4|\n~\xc8\x9dY\x001\xf2\xd4\x84\xc8J)\xe7\x87\x87\x86\xff\x16n\xd1!\x03\xbc-\x01\xd3\xfaO\xff\x05PK\x07\x08i\xeb\x98\xd2;\x08\x00\x003\x11\x00\x00PK\x01\x02-\x03\x14\x00\x08\x00\x08\x00\x00\x00!\x00i\xeb\x98\xd2;\x08\x00\x003\x11\x00\x00\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00 \x00\xb4\x81\x00\x00\x00\x00index.jsPK\x05\x06\x00\x00\x00\x00\x01\x00\x01\x006\x00\x00\x00q\x08\x00\x00\x00\x00'
TapStackdev: fail: exception while calling s3 with unknown operation: Unable to parse request (not well-formed (invalid token): line 1, column 2), invalid XML received:
b'PK\x03\x04\x14\x00\x08\x00\x08\x00\x00\x00!\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08\x00\x00\x00index.js\xa5TKo\xdb8\x10\xbe\xef\xaf\x90y0H\x80Q\xb3=\xca`\xda"\xe9\x06:lc$\xdbS\x10\x14,5\xb2\xb9\x969\xea\x90\x8c\xd7+\xeb\xbf/(\xd9Nb\x18\xdbC!\xe8\xa0y\xf0{pF,z\xc8| k\x02\x9b=k\xcaJu\xf7\xfdo0!7\x04:\x80\x0c\x87\xef\nj\xeb`N\xd8\x02\x85\xad\xdc\x1e\xe2\x0b\x08w\x1bw\x88\xdf\x807d\xdb\x80$\xe7\xe7+\xbe\xe85x\xb9x\x95\x9c\x13\x06\x0c\xdb\x16\xeej\xd9\x1c\xe2\xed!\x98/\xb5\x7f\x05 o\x15\'\tB]u5\x12O\x941\xb3.\x03\x118I\x94\xdd\x02B\x01\x8f\xf8$\xc1\xc55\x90\xfe\xde@1\xb9\xecE/\xdd\xd0)Q\xda\xd4mk\x0e\xd3i\x82\xc5:\x03\xa5\x18\x0e\xba\xd9n\xf7*VGg\x82E\xc7D\x02k d>\xc3:\x9bs\x10b\xd2\xe4F7\r\'\xe9\xc5t\xea\'J\xe1t\x9aH\xf8\x91\x04\x17\xea\n\x1e\xfd["\xdc\xaa-\x07\xe9\x85\xd8\xedl\xfeB\xb1\x173\x82\x10\xc9e\xd4\xcb\xfb=Q\xa1\xae8*\x9a(\x17\x9b\xe6C\xc9\x17\x9c\x84(\xba^:\x0e\xbb\xdd\x84\xd2\x9b\x7f\xfb\x06\xfeO\xacb\x03\x1f\x02G\xc9*\xa8ul\x02\x93\xdd\xb3n"\x14tjD\x81\x92\x84\x90\x0f\x8a\xd4\x95\xe3\x81w\xbdd/\x87\x1c\xfb\x92g\x92\x84\\\xa9\xae\x9f\xdd\xf2\x95\xec\x96\xdaU\rP\x91\x84\xd5\xbd\x90\xeb\x015\x87\x7fZ\xa4\xe0\xd5\x03_\x89a\x84\xb4\xba\xe7\x04?\xa2%\xe0\xec\xa3\xde\xf8\x0b_\xad\xde\x99\xc6\x82\x0b\x17`\xde3!dT\x0e6\x99\xce?_\xbf\xe7]/f\x07\xa333\xdcn7\x9a\xd1\xdd\x12\xc6\xb6\xac\n\x92e;\x07Z[\xef-:_<v_=PY\r\xf9\xb9\xb6\x94B/\xc5c\xb2\x80\xfe)\xf5\xa5I2\xd8\x14\xec\xe2w\xd6?\xf5\xfd\x11\xab\xe2$~\x8eT\xb6\xf7\xda- !\\\xdb\x8a\xca\xb6`\x97\xf9\xf0\xbc\xbbd\xe7\x11\xb4\xdf:\x93\x1dq\xea\x84\x93\x86\x07\x14\xe5\xf7\xe01\x929l\x92\x05\x9f\xdf\x8cW\xf6\x00&\x92\r\xdb\xbd\x0e\x89\xe7\xab?\x19\x83\xd1\x85\x99\xdf\xd8`\x96<\x9d\xf8#\x82\x0f\x7fm[\x10\x9d\xd1\x1e\xd8\xf5\xb0\xbb\xac\xd8\x8fT\xcbA\xa2\x98\r\xa9\xafm\xa5\x03\x1cSKN\xfb\xc4\r4\xf0*\xb1\x1ez\xfa\xfeDJ\xaa?J\xb9k\xaa_Vs^\xfb\x0c\xc6u\xe2z\xa3m\xc8\x12\x99\xb3\xce\xed\xbd\x10r\xack9\xfe\x7f\x9d8\xd5\xd3\x8e\xe3\x16h\xdb\x8dG\xc4\x9c\xe0\x19W\xf0\xe62>/\x08\xbc\xe7i^Dot\xb2\x1dE\xfa\x83`\xee\xf4:qe\xa5{\xd6\x8d\xad^\x864\xff\x82\xe1\x0f\x8c\xaeb",\t7\x19\xf6?A)\xdd\x083\xae\xc0\xaf\x00\x9d\xaa\\\x8f*\x0f\nu\x0cK$\xfb\xef[\x91\'\xf0{Kc~\xbe\xfa\x8d%\xbf\xfd\x07PK\x07\x08b{\xda*\xce\x02\x00\x00G\x06\x00\x00PK\x03\x04\x14\x00\x08\x00\x08\x00\x00\x00!\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11\x00\x00\x00__entrypoint__.js\xa5Vmo\xdb6\x10\xfe\xbe_\xc1\x12E!\x06,\x9bu\x1b0\xc8S\x8c4q\x17\xafN\x1b\xd8\x0e\x86}J\x18\xe9di\x91H\x87\xa4\x92x\x8a\xfe\xfb@\x91\x92_\xbb|\xd8\'\x89G\xf2x/\xcf=w\xb8\xd2\x80\xb4Qyl\xf0\xe0\xdb\xdd\xdf\x10\x1b\x96@\x9a\x0b\xb8Rr\t\xca\xac\x02x^Je4\xc577\xa0/eR\x15\x80i\xfd\xc8\x8b\n\xc27\xc7\r\xa1\xfe\x00\x83g\x03J\xf0"z\x94y\x82\x8e{y\xc6ER\x80\x8a\xfc\xb7\x97?\xe5&\x9b\x82Q9\xe8h\xe3\x7f\x10K\xa1\r\xca\x8cY\xeaH\xc1C\x95+\x08p\xbb\xc4\x84V\xaaX\x0b+U`2\xd8{\xbf\xd6 \x92\x0bc\x96Sx\xa8@\x9b0\x81\x94W\x85\x99m\x8bi!\x17\xdd\xd6D.h.\xe2\xa2J`fx|?W<\x06\x1d\xbe9\xa6\x95\x06u\xe1<\x18\x8b\x04\x9eC\xcc>\xe4\xf6\x077\xde\xd2\xb3\xe9\xe8t>\xba\xf9|:\x9e\x8c\xceo\xae.\xfe\x9a\x8d\xcfN\'7\xe3\xf3\x9b\xcb\xd3\xe9\x97\xd14\xc2\xa7\x7f\xce\xce\xce\xbf\x84\xe1Y\xa5\x8d,\xa7\xa0e\xa5b\x1b\xe1\xc7<\x01\xf5Y\xf1\x12\x9e\xa4\xba\x0f\xc3-U\x98^\x8eg\xb3\xf1\xd7\xdf\xff\x9f\xce\x03J\xf0\x80\xeb\x95\x88QZ\x89\xd8\xe4R \x9f\x9a\x00\x1eA\x18\x1aKa\xe0\xd9\x90\xdaeBs\x91\x9b\xfc\x1fHFv7\xaa\x19c\xee\xdc\x14\xf4R\n\r\xd7\xd3I\x88\x19c\xb8\x19\xe4i\x87\x97\x1e\x0e\xac\x90\x8b\xe0\x8f\xd9\xb7\xaf\xcc\xe2L,\xf2t\x15l\xab\xa4\x1e0\x1f\t\xa1\xadf\xe6\x137_-!\x8a"|\x0e\x05\x18\xc0\xef\xde\xb9\xdd\xabl\xa5\xf3\x98\x17] \xc7I\x14E[\xa1;\x101R\xef\xe2\xa45\x0c\xe7\x0b!\xadY\xe8|4\x19\xcdG\xa8}\x02\xc5\xbc\xd2\x90\xa0\xbb\x15\xe2(\xe5y\x01\tr\x0f\xb8}L(\x7f\xe2\xb9A\xba\xba+s\xd3\x05"\xc0\xb3\xeb\xb3\xb3\xd1l\x86\x9d\x1fd\xa0\xc0TJ4F\xad|07\xe0\xd4\xe3x\xcf\xb0\x8dC-\xe6\x08\xebjG\x81\xae\n\x13\xb9\xc77\x8e\xedF\xb4K!U>G.w\nD\x02\xaa7\xd7\xa5\xd1\xe9$\x83W<\xda\xd2D\x9a\x98\x9b8\x0b\xa0\x03\x89\xdd\xdd\x82\x06\xd7R\x84{\x9e\xed\xd7\xd8\x10\x98\xb6\x15\x17\x02+Ak\xbe\x80f`\x95\xb1\xfd,\xbf\xbc8\x80\xee\xc2\xe3L\x017\x80\x87\x87\xa1\x87}\xe2\\\x1a)r~$6\xe5\x96u\x10G%W\xf7\xa0\xd0\xd2\xc3\xca\x9eh\x0b\x14\xe5\t\xd2\x12\x99\x8c\x1bd2\xb0\xc9\xd6\x96Q\x84\xe9\xc0\xf2\x94\x17\x05\xba\x03\xd4\x82\x08\x12L\xdax\x1f0\xfdux\xee\xc7\xca\xd6\xcd\xedh:\xfd6\r\xd1%/R\xa9JH\x1c\xfe\x18\xc2\xfb\xe1\xc1(\xd7\xc8\x13f\x12\xa2\xb7\xf5N\xd1\xb5\xd9&\xcd-\xf9\x1ex\x1d\x83\xe1\xd6\x07\xd24=;\xec\xa0&N\x85\xafO\xeaa\xd9\x01*\xaa\x9b\x0e\x0f]07jt\xe7\xf0\x81(\r\x87k\xdd\xafm{\x13\xc6\x89\xe5\x9c\x8dk\xdf\xa3\x8e}\x83\xdeD\xd1\xc6\xbd\xfdx\x12\x93)\xf9\x84\x04<\xa1\x91RR\x05\xb7\x8e"B\x14s!\xa4Aq\xc6\xc5\x02Zht\xda\xd7\xd8\x19\x9f\xa3T\xc9\x12\xe1\xb7\xf5\x7f\xbe\xd2`d\xa4=\xf5zx\x1a\x8c\x92\xaa\xe5\xaa\xc4\x12b.\xc5m\xc70\x96\x94\xd7\xcfP\xc6:\xc6\xe8RC\xf7\xfd\x0b;\xa3\xd79j\x9a\x9d\xc6\xb0\xc3o\xdapSiOn\x9e\xd1\xfe\xd6RD\xf5\xac\xdd\t\xfd\x81)\xb8\xf2\xb7\r\x83\xb9\xc5p\xe8\xf7\xda\xfe:NB\xc7\xe5~E\xfbtzy\xbf>d\xb8\xbb\xba\xef\xd1\xcb\xcb\x81f\xe7\xbb0\x9d\xc8\xc5v\xd3\xf0/\xed\xc9\xe9W9\x8a3\xe9\xb7\xdd\x82\x9es\xc3\xbd\xc4\xfe6t\xc9\x95\x86\xe4Z\x15Q\xa5\n\xd6\xaezv\xea\xdb"\xb13\xc6"\x17\x8b\x19O\xc1\x9e\xbd}[\xf7\x17\xd9RI#cY4\x1f>l\x8a3\xa9\x8d\xe0%4[\xd2%7Y+\x1d\x1e\x1d\x1d\xdd\xee\r=\xae\x99\xb9ty\x8a\xd3`\x91\x15\x17\xb2J,wp\x0b\x18\xbcc\x10\xb5\xd9#~\x90\xe9\x18\xfe\x93LV\xd1\x0ey\xb4\xe7\xa8\x82\x87\xa8\xee\xec\x0b\xd7\x9et"j\xad\xdc\x90\xdb%-\xc1d2\t\xf1\xd5\xf5\x1c\xd3\x0cx\x02J\x875n[\x940\xef\xcdj\t8\xc4\x98\xf6\x92\x02\xc4\xc2d8\xfcT\xa5)(v\xb720iE\xc1\xa6\x85\x14W&\xfd\x15\x93\xa6\xf1\x9dkc\x86\x0cjn\x0c\x94K\xa3\xc3_\xa8.\x00\x96\xe1\x8f\xf0S\xd3\x8f\x9e\xdd\xa8\xcav&E\x12(x\xe8{\xa6\x8d\x03\xd9\xad\x88\xc3\xb3d \x976\xbc\xdaF\xc8\x8e\x9c\xed\xd5\xdau\xff\x96A\xae\x94,s\r\x81uA\x16\x8f@\x15\xd8a\x9bD\'\xf5z8\xf0\x97\xa3v\xd8e~\xb5\xa1\xda\xe1*:\xa9\xbb80\xdb\xbbK\x08\x08}\xd3\x8b\\\x99\x9d\xc9\x04^^\x0e\x08O\xa2\x9f\x8f\x8f\x87\xee\xf5`\x83\xdb\xae\x85\xae\xe2\x18\xb4N\xab\x02]\xcc\xe7W=\x8al+9\xa0\xc86\x92\xd0{\x13\x90\xc62Q\xeb:\x93"\xc0`\t\xd3v\x92\xd6\xc9.*\xecI\xe5\x06l\x8c\xfb\x18\xf5[ \x92`c\xaa\xf0\x06\x02i\x1a\xb2\xeeD>\xf8\x13\xb9\x08\xd2\xd2X\x9a[r\xc5K\xed\xba\x8e,\xa0-\x83\xed\xad\xf5\xedM\x80t\xf9J\x05\xe9\xd2\xd4R_\xc0\x18{\xd66-\x05\x18\xd4\xa1(\xf2\xc7Y\'\xa0\xa5\xeee-\xbe\x06\xa9T\xc1`@l2}\xda\xdd<\x95\n\xafr=1\xe5i\xd0\xe9y\xff\xfe\xb7\xe8\xd87\x1a\xe8&0\x8b\xd7\xe0\x92\x9b\x8c\xa5\x85\x94\xca\xfd*.\x12Y\x06\xe4\xa8\xd4\x84\xd0R\x1fE\x1f\x9b}\xban\xaf\xdax\x1c\x80\x9e\xbc\x8fN4\x98y^\x82\xacL \xef\xa9U\xd5\xfc\xf0/PK\x07\x08\x18-\x91\xa0\xa6\x05\x00\x00\x04\x0e\x00\x00PK\x01\x02-\x03\x14\x00\x08\x00\x08\x00\x00\x00!\x00b{\xda*\xce\x02\x00\x00G\x06\x00\x00\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00 \x00\xb4\x81\x00\x00\x00\x00index.jsPK\x01\x02-\x03\x14\x00\x08\x00\x08\x00\x00\x00!\x00\x18-\x91\xa0\xa6\x05\x00\x00\x04\x0e\x00\x00\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00 \x00\xb4\x81\x04\x03\x00\x00__entrypoint__.jsPK\x05\x06\x00\x00\x00\x00\x02\x00\x02\x00u\x00\x00\x00\xe9\x08\x00\x00\x00\x00'

NOTICES         (What's this? https://github.com/aws/aws-cdk/wiki/CLI-Notices)

34892	CDK CLI collects telemetry data on command usage starting at version 2.1100.0 (unless opted out)

	Overview: We do not collect customer content and we anonymize the
	          telemetry we do collect. See the attached issue for more
	          information on what data is collected, why, and how to
	          opt-out. Telemetry will NOT be collected for any CDK CLI
	          version prior to version 2.1100.0 - regardless of
	          opt-in/out. You can also view the telemetry we collect by
	          logging it to a local file, by adding
	          `--telemetry-file=my/local/file` to any `cdk` command.

	Affected versions: cli: ^2.1100.0

	More information at: https://github.com/aws/aws-cdk/issues/34892


If you don‚Äôt want to see a notice anymore, use "cdk acknowledge <id>". For example, "cdk acknowledge 34892".
Failed to publish asset TapStackdev/Custom::VpcRestrictDefaultSGCustomResourceProvider Code (000000000000-us-east-1-fa324105)
```

**Deployment Duration:** 45s

**Deployment Status:** FAILED

**Error:** CDK asset publishing failed - S3 XML parsing error when uploading CloudFormation template. LocalStack S3 received JSON instead of expected XML format during template upload.

---

## Summary

### NEEDS FIXES

**Issues Found:**
- Deployment failed during CDK asset publishing phase
- S3 endpoint received JSON data but expected XML format
- Error: 'Unable to parse request (not well-formed (invalid token): line 1, column 0), invalid XML received'
- This is a compatibility issue between CDK's publishing mechanism and LocalStack S3

**Root Cause:**
- CDK attempted to publish CloudFormation template to S3 using a JSON content-type
- LocalStack S3 expected XML format for this operation
- The stack includes Network Firewall (AWS::NetworkFirewall::Firewall) which may not be fully supported in LocalStack Community

**Services Used:**
- VPC with public and private subnets
- EC2 instances with Amazon Linux 2 AMI
- S3 bucket with KMS encryption
- KMS keys for encryption
- Network Firewall (likely requires LocalStack Pro)
- IAM roles and policies
- CloudWatch Logs
- Security Groups
- NAT Gateways
- Internet Gateway
