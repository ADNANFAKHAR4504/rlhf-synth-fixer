We're building this in AWS CDK with TypeScript instead of raw CloudFormation. The goal is a multi-region setup that fails over quickly and keeps data in sync between us-east-1 and us-west-1, while staying inside our security/compliance and cost tagging rules. Keep the project simple: three files only — bin/tap.ts (app/region wiring), lib/tap-stack.ts (all resources and config), and cdk.json (project config). The model should return only code for those files, nothing else.

What needs to exist: S3 buckets in both regions with cross-region replication enabled; a CloudFront distribution that can serve globally and cope with failover; RDS with high availability in the primary region and a read replica in the secondary; IAM policies trimmed to the exact permissions the replication and data paths need; Lambda functions that help keep things consistent and trigger workflows on replication events; an EC2 application layer behind an Auto Scaling Group so we can grow and shrink with traffic; SNS to publish replication status/alerts across regions — create the topic(s) and alarms but don’t add any subscriptions (we’ll wire those later outside IaC); organization-standard tags on everything for cost allocation; encryption in transit and at rest — use KMS for data at rest across all replicated resources and make sure TLS is in place where relevant.

A few practical notes so it’s deployable: both regions should be covered from the CDK app (you can instantiate the same stack twice with different envs). Bucket versioning must be on for replication. Keep IAM least-privilege — no broad wildcards. Don’t hardcode secrets. Make sure logging and metrics are usable for debugging replication and failover (CloudFront, S3 replication metrics where available, RDS/EC2 basics). The end result should deploy cleanly with cdk deploy in both regions and be ready for DR simulations.

Return only the code for bin/tap.ts, lib/tap-stack.ts, and cdk.json. No explanations or commentary.