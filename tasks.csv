taskId,difficulty,problem_statement.environment,problem_statement.problem
307,hard,"307,hard,"You are tasked with setting up a secure infrastructure environment using AWS CDK with TypeScript. The environment is intended to host a web application with the following requirements: 1) Use AWS Secrets Manager to secure sensitive information such as database passwords with CDK SecretsManager constructs. 2) All resources must be provisioned in the us-west-2 AWS region using CDK environment configuration constructs. 3) Implement IAM roles with policies confined to required actions only using CDK IAM constructs. 4) Configure security groups to limit inbound access to specific IPs using CDK EC2 security group constructs. 5) Encrypt all data at rest using AWS KMS with CDK KMS constructs. 6) Enable logging and monitoring through S3 for storage and CloudWatch for monitoring using CDK constructs. 7) Ensure high availability by launching EC2 instances in subnets within at least two availability zones using CDK EC constructs2 and VPC constructs. 8) Integrate an RDS instance with automatic backups using CDK RDS constructs. 9) Protect all public-facing resources using AWS WAF with CDK WAFv constructs2 constructs. 10) Ensure HIPAA compliance by encrypting all data transfers using CDK HTTPS with CDK Application Load Balancer constructs.

Expected output: You will submit a CDK TypeScript application that meets all the constraints. The configuration should be executable by CDK and the setup must pass validation tests for secure and compliant infrastructure using 'cdk synth' and 'cdk deploy'.","The infrastructure environment must be constructed within the us-west-2 region and support high availability through multi-AZ deployments."",The infrastructure environment must be constructed within the us-west-2 region and support high availability through multi-AZ deployments.
310,hard,"You are tasked with setting up a secure AWS infrastructure using AWS CDK with TypeScript that adheres to the following specifications constructs: 1. Make sure all AWS resources are tagged with 'Environment' and 'Project' to facilitate resource tracking and billing using CDK Tags. 2. Implement IAM roles that follow the least privilege principle using CDK IAM constructs. 3. Restrict SSH access to EC2 instances to the specific IP address range '203.0.113.0/24' using CDK EC2 security group constructs. 4. Enable encryption at rest for all databases using AWS KMS for managing encryption keys with CDK KMS and RDS constructs. 5. Ensure that no security group permits unrestricted ingress traffic on SSH port 22 using CDK security group validation. 6. Deploy all resources across two AWS regions, us-west-1 and us-east-1, for redundancy and high availability using CDK cross constructs-region deployment. 7. Utilize AWS CloudTrail to log all API requests made to AWS services using CDK CloudTrail constructs. 8. Store CloudTrail logs in an S3 bucket with all access logs enabled to monitor access patterns using CDK S3 constructs. 9. Implement AWS WAF to create rules that protect against SQL injection attacks that may threaten web application components using CDK WAFv constructs2 constructs.\nExpected output: Write a CDK TypeScript application that defines the configurations meeting these requirements. Ensure the CDK code is verified and that all constraints are adhered to. The solution must work without any manual modifications after deployment. Validate the setup by running 'cdk synth' and deploying the configuration successfully with 'cdk deploy'. All AWS accounts and regions must reflect the intended designs as specified.","The target environment involves AWS infrastructure spread across us-west-1 and us-east-1 regions with standard VPC setups. Naming conventions include project-based prefixes and environment identifiers (e.g., dev, prod) for all resources."
312,hard,"Create an AWS CDK application in TypeScript to set up a secure AWS environment enforcing best practices for security configurations. The configuration must include the following: 1) An isolated VPC with public and private subnets using CDK VPC constructs, 2) IAM roles and policies following least privilege principle using CDK IAM constructs, 3) EC2 instance in the private subnet using CDK EC2 constructs, 4) Security group for SSH access restricted to a specific IP range using CDK EC2 security group constructs, 5) S3 buckets with server-side encryption and versioning enabled using CDK S3 constructs. Expected output: CDK TypeScript files that when deployed with 'cdk deploy', set up the described infrastructure meeting all listed constraints. Validation will be through 'cdk synth' and 'cdk deploy' commands showing compliance with best practices.","Target environment is AWS with resources deployed in 'us-west-2' region using account ID 123456789012. All resources should follow organization naming convention with a prefix 'org-' and must adhere to production standards."
313,hard,"Your task is to set up an AWS cloud environment using AWS CDK with TypeScript based on the following requirements: 

1. Create a VPC with two public subnets and two private subnets using CDK VPC constructs.
2. Integrate an Internet Gateway for outbound internet access from public subnets using CDK VPC constructs.
3. Deploy NAT Gateways in the public subnets for private subnet internet access using CDK VPC constructs.
4. Configure route tables to properly route traffic between subnets and to/from the internet using CDK VPC routing constructs.
5. Define Security Groups to allow necessary traffic for SSH, HTTP, and HTTPS using CDK EC2 security group constructs.
6. Ensure RDS instances are placed within private subnets only using CDK RDS constructs.
7. Implement encrypted EBS volumes for EC2 instances using CDK EC2 constructs.
8. Create an S3 bucket for logs with encryption using CDK S3 constructs.
9. Implement IAM roles following the principle of least privilege using CDK IAM constructs.
10. Maintain all configurations to be free from hardcoded secrets or credentials using CDK context and environment variables.
11. Ensure that 'cdk destroy' can be run without requiring manual intervention outside of CDK.
12. Use CDK bootstrapping for proper asset management and deployment.

Expected output: A set of CDK TypeScript files defining the described infrastructure that passes AWS deployment and best practice checks. The environment should be tag-compliant and secure according to the specified constraints. Ensure you provide comments in the CDK files to describe purpose and function of the constructs and configurations.","You are tasked with setting up a secure and scalable cloud environment for a mid-sized company on AWS using AWS CDK with TypeScript. The environment should include networking components, compute resources, and logging under region `us-east-1`. The organization's policy requires all resources to be tagged appropriately and all data encrypted both in transit and at rest where possible."
314,hard,"Using AWS CDK with TypeScript as your Infrastructure-as-Code tool, set up a secure AWS environment with the following requirements: 1. Define IAM roles using CDK IAM constructs that grant read-only access to all S3 buckets in both the us-west-1 and us-east-1 regions. 2. Configure logging for all actions performed by these IAM roles to CloudWatch Logs for auditing purposes using CDK CloudWatch constructs. 3. Restrict access to AWS resources to specific IP address ranges for increased security using CDK security group constructs. 4. Ensure S3 buckets utilize both server-side encryption with AWS-KMS and enforce SSL/TLS for data in transit using CDK S3 and KMS constructs. 5. Use CDK custom constructs to create reusable configurations for IAM and S3 setup. 6. Your CDK application should output the ARN of the created IAM role and the names of all S3 buckets using CDK CfnOutput. 7. Adhere strictly to AWS security best practices in your configuration.

Expected output: A series of CDK TypeScript files with custom constructs and configurations adhering to the above requirements. Ensure that the 'cdk synth' and 'cdk deploy' process successfully sets up the desired infrastructure and that all outputs are correct.","AWS infrastructure spanning across two regions, us-west-1 and us-east-1, using default VPC settings. Naming conventions for resources should include 'prod-' prefix for production environment components."
316,hard,"As a DevOps engineer, you need to set up a CI/CD pipeline for deploying a web application across multiple instances using AWS CDK with TypeScript. The application should be hosted on AWS and the deployment strategy must ensure zero downtime by using rolling updates. Your task is to: 

1. Use AWS CDK with TypeScript to define the infrastructure necessary for the CI/CD pipeline, including but not limited to AWS CodePipeline and AWS CodeBuild using CDK CodePipeline and CodeBuild constructs.
2. Use CDK bootstrapping for proper asset management and deployment.
3. Define IAM roles and policies to adhere strictly to the principle of least privilege using CDK IAM constructs.
4. Implement rolling updates in the deployment process to ensure there is no downtime of the web application during deployment using CDK Auto Scaling constructs.

Expected output: Submit a CDK TypeScript application that sets up the described CI/CD pipeline. Ensure that all constraints are met and that the setup is functional upon 'cdk deploy'.","Deploy a continuous integration/continuous deployment (CI/CD) pipeline in AWS to facilitate the management of a multi-instance web application. AWS IAM roles should be adequately defined, and CDK will handle infrastructure state management."
317,hard,"You are tasked with setting up a multi-environment infrastructure using AWS CDK with TypeScript for a cloud-native company. The company operates in AWS regions us-east-1 and eu-west-1 and needs to have separate development and production environments. Follow these steps to achieve this goal: 1) Use AWS CDK to manage both environments, ensuring you have a common set of configuration files that specify baseline settings for both environments, but allow for environment-specific overrides using CDK context and environment configurations. 2) Ensure that your setup includes environment-specific CDK stacks to safely isolate resources between development and production. 3) Implement mechanisms to automatically replicate infrastructure changes from development to production, ensuring minimal downtime using CDK pipelines. 4) Use best practices in CDK TypeScript to ensure that the infrastructure is modular, maintainable, and adheres to DRY principles using custom constructs.

Expected output: Provide CDK TypeScript application files and directory structure that meet the above requirements. Ensure that the configuration is syntactically correct and that running 'cdk synth' and 'cdk deploy' commands successfully deploys the described infrastructure to both environments with environment-specific configurations.",The infrastructure must support AWS regions us-east-1 and eu-west-1 with environments for development and production. Naming conventions should follow '<team>-<service>-env'. Use separate CDK stacks for each environment and ensure minimal downtime in service updates.
318,hard,"Configure a secure AWS infrastructure using AWS CDK with TypeScript following best practices and organizational security standards. The key requirements are as follows: 

1. Develop Infrastructure as Code using CDK that adheres to the principles of least privilege for IAM policies using CDK IAM constructs.
2. Use CDK version 2.0.0 or higher.
3. Configure all S3 buckets to be private and encrypt them with SSE-S3 using CDK S3 constructs.
4. Integrate multi-factor authentication (MFA) for all user access using CDK IAM constructs.
5. Generate dynamic secrets using AWS Secrets Manager with CDK SecretsManager constructs.
6. Deploy all EC2 instances within a VPC, using Security Groups to manage traffic with CDK EC2 and VPC constructs.
7. Employ custom constructs to organize your CDK code, promoting reuse and clarity.
8. Implement AWS CloudTrail to log all API calls, ensure logs are maintained in S3 within a separate account using CDK CloudTrail constructs.
9. Enforce the naming convention: <environment>-<service>-<resource>-<identifier> using CDK construct IDs.
10. Use AWS Config to track configuration changes for compliance using CDK Config constructs.
11. Resources that handle sensitive data must include a HipaaComplianceTag set to 'Compliant' using CDK Tags.
12. Avoid hard-coded credentials, instead, leverage environment variables or AWS Secrets Manager integration.

Expected output: CDK TypeScript application files meeting all the above requirements should be provided. Verify your solution with a successful 'cdk synth' command indicating zero errors and compliant infrastructure setup.","Deploy an AWS environment in the us-east-1 region, with resources hosted across multiple availability zones. Use a predefined VPC with specific CIDR blocks, apply company-wide tagging policies, and integrate with AWS Secrets Manager for secrets management. Ensure HipaaComplianceTag is set to 'Compliant' for resources handling sensitive data."
319,hard,"You are tasked with setting up an infrastructure-as-code (IaC) solution using AWS CDK with TypeScript to automate the deployment of a serverless application on AWS constructs. The solution should encompass defining a CI/CD pipeline using AWS CodePipeline that integrates with AWS Lambda via API Gateway constructs. The pipeline must include the following components: 

1. An AWS CodePipeline that automates the deployment process using CDK CodePipeline constructs.
2. An AWS CodeBuild step that compiles and runs tests on the application code using CDK CodeBuild constructs.
3. Integration with AWS Lambda functions, with an existing AWS API Gateway as the endpoint using CDK Lambda and API Gateway constructs.
4. Proper secret management using AWS Secrets Manager with CDK SecretsManager constructs.
5. Use CDK bootstrapping for proper asset management and deployment.
6. All configurations should be modular and follow AWS security best practices using CDK custom CDK constructs.

Expected output: Provide the CDK TypeScript application files that define this setup, ensuring all security and asset management constraints are met. The files should be configured to support multiple environments and should be adequately documented to explain structure and usage.","Deploy a fully automated CI/CD pipeline for a serverless application hosted using AWS Lambda and API Gateway constructs. The CDK application must automate the deployment across multiple environments (e.g., development, staging). Ensure all sensitive information is securely managed, and the configuration supports infrastructure as code best practices for reusability, modularity, and proper asset management."
320,hard,"You are required to set up a secure and highly available cloud environment using AWS CDK with TypeScript. This configuration is intended to serve as a foundation for an application that will be hosted on AWS. Your task is to achieve the following requirements using CDK constructs:

1. Use CDK bootstrapping for proper asset management and deployment.
2. Design and implement a Virtual Private Cloud (VPC) that includes both public and private subnets across two availability zones to ensure high availability using CDK VPC constructs.
3. Create an IAM role with the necessary permissions for EC2 instances within the environment to access S3 bucket, restricting access to only the required actions using CDK IAM constructs.

Expected output: Create a CDK TypeScript application that meets the above requirements. The solution should include all necessary custom constructs, resources, and configuration, and should pass validation with 'cdk synth' command.","Deploy the infrastructure in the AWS us-west-2 region following the naming convention 'mycompany-', and use separate AWS accounts for production and staging environments."
321,hard,"You are tasked with setting up a cloud development environment using AWS CDK with TypeScript on AWS constructs. This involves creating multiple components across two regions. The requirements are as follows: 1) Setup a Virtual Private Cloud (VPC) in us-west-1 and us-east-1 with specified CIDR blocks for IP address allocation. 2) Each VPC must have one public and one private subnet, with an internet gateway to connect the public subnet to the internet. 3) Deploy an EC2 instance in each public subnet, allowing SSH and HTTP traffic, and restrict inbound and outbound traffic to these two protocols. 4) Implement an S3 bucket with versioning in the us-east-1 region, which is accessible only from the EC2 instances. 5) Deploy an RDS PostgreSQL instance with a multi-AZ configuration, ensuring failover in each region. 6) Encryption must be enabled for both RDS and S3, ensuring data is secured at rest. 7) Manage the AWS CDK with TypeScript state with AWS S3 as a CDK bootstrapping. 8) Utilize a CI/CD pipeline that automatically applies changes whenever updates are made to the AWS CDK with TypeScript code files. Your submission should be a complete working AWS CDK with TypeScript configuration that meets these requirements. Ensure all resources are tagged appropriately, and the solution is modular, using AWS CDK with TypeScript modules where relevant. Expected output is a series of AWS CDK with TypeScript configuration files demonstrating the defined infrastructure, able to be applied successfully with the `AWS CDK with TypeScript apply` command, and all tests passing according to the requirements outlined above.","The target infrastructure consists of AWS resources across the us-west-1 and us-east-1 regions, with specific networking, compute, and database configurations. The solution must comply with the AWS shared responsibility model and utilize AWS CDK with TypeScript's best practices for defining infrastructure as code (IaC)."
322,hard,"Create a AWS CDK with TypeScript configuration to deploy a serverless application on AWS. Your configuration should meet the following requirements: 1. Deploy AWS Lambda functions within the 'us-west-2' region. 2. Utilize a minimum of three availability zones to ensure high availability for the RDS database instances. 3. Include other necessary AWS resources such as API Gateway to expose the Lambda functions as HTTP endpoints. 4. Ensure that all resources are properly tagged for cost management. 5. Validate the configuration with 'AWS CDK with TypeScript validate' and perform a successful deployment with 'AWS CDK with TypeScript apply'. Expected output: A set of AWS CDK with TypeScript configuration files that successfully deploy the specified serverless architecture on AWS, meeting all requirements and passing validation tests.","You are tasked with deploying serverless infrastructure on AWS using AWS CDK with TypeScript, targeting the 'us-west-2' region. Ensure high availability by utilizing multiple availability zones and implementing best practices for serverless deployments."
323,hard,"You are tasked with implementing a secure infrastructure for a medium-sized software company's online services using AWS CDK with TypeScript. The company requires a highly secure setup due to the sensitive customer data it handles. Implement the infrastructure with the following requirements: 1. Develop IAM policies that do not exceed 5 attached policies per user yet maintaining full access to necessary services. 2. All stored and transmitted data must be encrypted to meet compliance needs. 3. Distribute infrastructure across at least three AWS regions to achieve high availability. 4. Instead of IAM users, use IAM roles for EC2 instances to enhance security posture. 5. Ensure logging is enabled for all AWS services to aid in auditing and compliance checks. 6. Lock down S3 buckets from public access using CDK bucket policies constructs. 7. RDS instances need to be encrypted with customer-managed CMKs for data protection. 8. Enable versioning on S3 to safeguard data against accidental deletions. 9. Architect a VPC with multiple subnets across different availability zones for redundancy. 10. Security groups should log all inbound rules and avoid any open access from unknown sources. 11. Use AWS CDK with TypeScript's native features to avoid embedding sensitive information directly into the codebase. 12. Secure the AWS CDK with TypeScript CDK asset management by storing it with encryption and version control. Expected output: A complete AWS CDK with TypeScript file (mainTypeScript or equivalent) that adheres strictly to these constraints and successfully deploys the infrastructure in a test AWS environment, with the logs demonstrating no open security vulnerabilities upon scanning.","The environment includes AWS accounts and regions around the US (e.g., us-east-1, us-west-2). Naming conventions should follow a project-based pattern eg. 'project-name-component' across VPCs and subnets."
324,hard,"You are tasked with setting up a cloud environment using AWS CDK with TypeScript to support a web application constructs. The environment must meet the following requirements: 1. Deploy a Virtual Private Cloud (VPC) with CIDR block '10.0.0.0/16'. 2. Create both public and private subnets across 3 availability zones. 3. Set up an Application Load Balancer to route traffic to EC2 instances. 4. Launch EC2 instances within the VPC and ensure they are 't3.micro' type, autoscaled starting with a minimum of 2 instances. 5. Deploy an RDS MySQL instance with storage encrypted using AWS KMS constructs. 6. Implement IAM roles for EC2 and RDS to ensure secure access control. 7. Enable versioning and default privacy on S3 buckets. 8. Tag all resources with 'Environment: Production'. 9. Use AWS CDK with TypeScript version 1.0.0 or later. Ensure strict adherence to constraints including region-specific and resource-specific configurations. 10. Security groups must be set up to allow SSH only from a specified IP range. Expected output: Create a AWS CDK with TypeScript configuration file (`mainTypeScript`) that complies with all the above requirements. The configuration should be deployable directly with `AWS CDK with TypeScript apply`. All tests validating these requirements must pass for the task to be considered complete.","The infrastructure is to be deployed in AWS 'us-west-2' region with strict compliance to the given constraints. This involves network setup, resource configuration, and security hardening to serve a production environment."
325,hard,"Design and implement a AWS CDK with TypeScript configuration to set up a basic cloud infrastructure on AWS, including a VPC with public and private subnets, an EC2 instance, and an S3 bucket. The infrastructure should support three environments: development, staging, and production. The implementation should: \n1. Use CDK asset management to prevent concurrent updates. \n2. Allow feature toggling with conditional expressions based on the environment (e.g., enabling detailed monitoring on EC2 instances only in staging and production). \n3. Utilize a CDK bootstrapping for securely managing the AWS CDK with TypeScript CDK asset management to ensure scalability and collaboration. \n\nExpected output: Provide a main AWS CDK with TypeScript configuration file in TypeScript format (mainTypeScript) and any necessary supporting modules or files. Make sure your implementation is modular and clearly documents any assumptions or variables.","You are tasked with setting up a cloud environment on AWS using AWS CDK with TypeScript. The infrastructure should be designed for a company that has multiple environments (development, staging, production) across various AWS regions. The setup must be flexible and scalable."
326,hard,"You are tasked with setting up a production environment using AWS CDK with TypeScript on AWS constructs. The environment will consist of EC2 instances behind an Auto Scaling group, an S3 bucket for storage, and an RDS instance for database operations. Each resource must adhere to specific prerequisites:

1. All resources need to be tagged with 'Environment: Production'.
2. Networking resources must use the same Virtual Private Cloud (VPC).
3. EC2 instances must be part of an Auto Scaling group with a Launch Configuration.
4. The S3 bucket must have versioning enabled.
5. The RDS instance should be set up with Multi-AZ deployment for high availability.

Expected Output: Provide an TypeScript-file formatted AWS CDK with TypeScript configuration script that sets up the environment as per the requirements above. Ensure all constraints are fully met, tests must be run to validate the setup.","Target environment is a production cloud setup in AWS, utilizing S3, EC2, and RDS instances. The solution should adhere to a single AWS region and use specific naming conventions for resources, including prefixes based on the resource type."
327,hard,"Create a AWS CDK with TypeScript configuration to build a secure AWS infrastructure that adheres to the following requirements: 1) Resources must be deployed in the 'us-west-2' region within a custom VPC. 2) Implement IAM roles and policies that follow the principle of least privilege. 3) Sensitive data must be encrypted using AWS KMS constructs. 4) Ensure server-side encryption is enabled for all data storage services. 5) Deploy the infrastructure across at least two availability zones for high availability. 6) Security groups should only allow inbound traffic on port 443. 7) Configure AWS Config to monitor resource changes. 8) Use AWS CloudTrail to log all account activities. 9) Store logs in an encrypted and versioned S3 bucket. 10) Use a Bastion host for accessing resources in private subnets. 11) Ensure all compute instances use IAM roles, not hard-coded credentials. 12) Enable automatic backups for databases. 13) Use the latest and patched AMIs for instances. 14) Implement a Web Application Firewall to protect against exploits. 15) Prevent public access to all storage resources unless necessary.\nExpected output: Provide a complete set of AWS CDK with TypeScript files that implement this infrastructure setup, ensuring all requirements are met. Tests should verify the creation of resources and adherence to security policies.","You are tasked with deploying a secure infrastructure environment on AWS using AWS CDK with TypeScript. All resources must be created in the 'us-west-2' region, following AWS best practices for security and isolation. The infrastructure involves deploying web applications, databases, and logging services."
328,hard,"You are tasked with setting up a secured AWS cloud environment using AWS CDK with TypeScript. The environment must adhere to strict security protocols as per the organization's infosec policies. Ensure each of the following requirements is met:
1. Implement IAM roles and policies to strictly enforce the least privilege principle for all services and users.
2. Establish VPC-level network isolation across all applicable resources.
3. Ensure all data stored in AWS S3 buckets is encrypted at rest using CDK AES constructs-256.
4. Implement an IAM user credential rotation policy to enforce a 90-day rotation cycle.
5. Configure AWS CloudWatch to monitor all resources, with alerts configured for any unauthorized access attempts.
6. Encrypt all AWS CDK with TypeScript CDK asset management using AWS Key Management Service  constructs(KMS).
7. Ensure secure protocols (HTTPS and SSH) are required for all services' communication.
8. Use security groups to enforce ingress and egress rules for traffic to and from resources.
9. Employ AWS Config to monitor and track configuration changes to resources.
10. Adhere to a unified resource tagging policy to aid resource tracking and expense management.
11. Implement a centralized IAM user management strategy using AWS Organizations to streamline access management across multiple accounts constructs.
12. Set up AWS CloudTrail for logging all API calls within the environment for auditing and compliance.
13. Ensure egress from subnets is limited to trusted entities only.
14. Utilize Infrastructure as Code (IaC) best practices to automate and manage the security configurations.

Expected output: A set of AWS CDK with TypeScript TypeScript files that implement the above requirements, organized in a repository structure. Your implementation will be tested against various scenarios to ensure all requirements are fulfilled correctly.","Target environment is AWS, using multiple accounts managed via AWS Organizations for isolation and scalability. The solution must accommodate a VPC in each account, utilizing default and custom routing tables. The AWS CDK with TypeScript scripts are to be executed in the US-EAST-1 AWS region. AWS best practices for naming conventions (e.g., camelCase for resources) should be followed across all resources."
329,hard,"Develop a AWS CDK with TypeScript configuration to achieve multi-environment consistency and replication on AWS. The solution should meet the following requirements: \n1. Support deployment across multiple AWS regions. \n2. Manage separate configurations for different environments, such as staging and production, each with its own AWS CDK with TypeScript state management. \n3. Implement specific IAM roles and policies that limit and define access based on individual environment needs. \n4. Use AWS CDK with TypeScript to provision at least a Virtual Private Cloud (VPC), subnets, and internet gateways for the environments in both regions. \n5. Employ AWS CDK with TypeScript modules to compartmentalize and reuse your AWS CDK with TypeScript code effectively.  \nExpected output: A set of AWS CDK with TypeScript scripts written in TypeScript that meets all specified requirements. You should be able to run `AWS CDK with TypeScript init`, `AWS CDK with TypeScript plan`, and `AWS CDK with TypeScript apply` to create the described infrastructure across the specified environments and regions. The setup should be tested and verified for both correctness and compliance with the stated constraints.",You are tasked with setting up and managing a consistent and scalable AWS cloud environment using AWS CDK with TypeScript. The setup must span across multiple AWS regions to ensure high availability and make use of best practices for modularity and environment segregation.
330,hard,"Design an infrastructure using AWS CDK with TypeScript to host a web application in a highly secure manner constructs. The infrastructure should include the following elements:\n1. A VPC in the 'us-west-2' region with two availability zones.\n2. Public and private subnets in each availability zone.\n3. EC2 instances must run the web application in private subnets, accessible via an Application Load Balancer in the public subnet.\n4. Security groups that restrict inbound traffic to only essential ports and completely restrict outbound traffic unless needed.\n5. IAM roles that allow EC2 instances to access only necessary AWS services (e.g., S3 for data storage).\n6. All data at rest should be encrypted using AWS KMS keys constructs.\n7. Use AWS CDK with TypeScript modules to organize and maintain your infrastructure efficiently.\n\nExpected Output:\nA set of TypeScript scripts organized as AWS CDK with TypeScript modules, each implementing different parts of the infrastructure: networking, compute, and security. Ensure scripts can be applied using 'AWS CDK with TypeScript apply' without errors, and review compliance against the constraints given.","The infrastructure must be deployed in the 'us-west-2' AWS region, utilizing a VPC that spans two availability zones with both public and private subnets. The networking, compute, and security configurations should be encapsulated using AWS CDK with TypeScript modules constructs."
331,hard,"You are required to set up a secure and scalable cloud environment using AWS CDK with TypeScript. The infrastructure must satisfy the following requirements: 1. Use AWS as the cloud provider. 2. Deploy a VPC with at least two subnets across different availability zones with a CIDR block of 10.0.0.0/16. 3. Create an Internet Gateway and configure the necessary routing tables to allow outbound internet access. 4. Set up both a public and a private subnet within the VPC. The public subnet must have a NAT Gateway configured to allow outbound traffic from the private subnet. 5. Deploy at least two EC2 instances within the private subnet intended for application hosting. 6. Ensure SSL certificates are applied to all endpoints to guarantee secure communication. 7. Set up auto-scaling for the EC2 instances to accommodate load variation efficiently. 8. Implement CloudWatch for monitoring the resource utilization metrics effectively. 9. All infrastructure should be declared using AWS CDK with TypeScript TypeScript configurations constructs. 10. Ensure the deployment is in the AWS region of us-east-1. Expected output: Write AWS CDK with TypeScript TypeScript configuration files that define this infrastructure setup, ensuring all the specified requirements are met. The final solution should pass validation with AWS CDK with TypeScript and fulfill all stated constraints.","AWS environment setup targeting us-east-1 region, with a VPC including both public and private subnets, managed via AWS CDK with TypeScript TypeScript files. SSL certificates must be generated using CDK ACM in the us constructs-east-1 region."
332,hard,"You are tasked with designing a secure and scalable cloud environment using AWS CDK with TypeScript. The environment should support a web application running on Amazon ECS with the following requirements: 1) Deploy all resources in the 'us-east-1' region. 2) Implement a VPC with at least 2 public and 2 private subnets distributed across different Availability Zones. 3) All ECS tasks must execute with IAM roles following the principle of least privilege. 4) Encrypt all data at rest with AWS Key Management Service (KMS). 5) Enable and configure CloudWatch Logs for centralized logging. 6) Implement RDS with multi-AZ deployments for high availability. 7) Ensure all infrastructure components are appropriately tagged for the production environment. Expected output: A set of AWS CDK with TypeScript TypeScript configuration files that fulfill these requirements, accompanying modules usage, and able to successfully apply in the AWS console.","The infrastructure will be set up in the 'us-east-1' AWS region, leveraging Amazon VPC for network isolation with both public and private subnets. It will utilize various AWS services including EC2, RDS, IAM, KMS, and CloudWatch for a secure and scalable environment."
333,hard,"Task: Create a scalable and flexible infrastructure supporting multiple environments (Dev, Staging, and Prod) using AWS CDK with TypeScript. The solution must adhere to the following constraints: 

1. Define all variables at the environment level to allow easy overrides.
2. Use only legal AWS CDK with TypeScript providers, modules, and functions.
3. Ensure the AWS CDK with TypeScript version used is 1.0.0 or newer.
4. Employ a consistent naming convention for resources: '<env>-<service>-<component>'.
5. Utilize AWS S3 for remote state management and DynamoDB for CDK asset management.
6. Apply a modular design with well-defined inputs and outputs between modules.
7. Implement environments for development, staging, and production.
8. The primary AWS region should be 'us-east-1', with a failover strategy to 'us-west-2'.
9. Follow AWS CDK with TypeScript best practices for cost optimization, ensuring efficient resource usage across environments.
10. Use tagging for all resources to aid in cost tracking and management.
11. Leverage AWS CDK with TypeScript workspaces for the organization and isolation of different environment states.
12. Security groups must adhere to the principle of least privilege to enhance security.
13. Document the interfaces of modules comprehensively in README.md files.

Expected Output: Your solution should be provided as a set of AWS CDK with TypeScript configuration files, ensuring tests and validations for each environment pass successfully. Include clear documentation of setup and workflow processes for future reference and handoff.","Configure AWS-based environments using AWS CDK with TypeScript with consistent architecture to manage Dev constructs, Staging, and Prod environments. Remote state management should utilize AWS S3 and DynamoDB for locking. Ensure compliance with naming conventions and use 'us-east-1' and 'us-west-2' as primary and failover regions."
334,hard,"As an infrastructure engineer, you need to set up security configurations as code using AWS CDK with TypeScript. The task requires you to configure security best practices for a multi-region AWS environment involving Amazon S3 buckets, EC2 instances, RDS instances, IAM roles and policies, and various other AWS resources. Specific requirements include:\n1. Security groups must include descriptions.\n2. Ports should only be open to specific CIDRs for EC2.\n3. Enable encryption at rest for RDS.\n4. S3 buckets should not be public unless necessary.\n5. IAM roles must have limited permissions.\n6. Disable password logins for EC2 instances.\n7. Log user data scripts for instances.\n8. Use trusted AMIs only.\n9. Tag all resources with 'environment'.\n10. Monitor EC2 CPU with CloudWatch and alert on high usage.\n11. Restrict Lambda functions to VPCs unless otherwise required.\n12. Enable KMS key rotation.\n13. Ensure MFA is turned on for IAM users.\n\nExpected output: Submit a complete AWS CDK with TypeScript configuration file that adheres to the constraints above. The setup should pass an audit test verifying compliance with each specified constraint.","The infrastructure is deployed across multiple AWS regions including us-east-1 and eu-west-1, using separate AWS accounts for production and staging. The VPC ID for production is vpc-123abc456def, and for staging, it's vpc-789ghi012jkl."
335,hard,"Your organization requires a secure and efficient infrastructure deployment strategy using AWS CDK with TypeScript for managing AWS resources constructs. Develop a AWS CDK with TypeScript configuration to deploy a virtual private cloud (VPC) and associated resources with a focus on security and reusability. The configuration must adhere to the following requirements: 1. Create a VPC with a CIDR block of `10.0.0.0/16`. 2. Implement security measures using AWS IAM constructs, ensuring roles are created with necessary permissions only. 3. All created resources should include `Environment`, `Owner`, and `Project` tags. 4. Use AWS Key Management Service (KMS) to encrypt all S3 buckets at rest. 5. Implement logging of all AWS API calls using AWS CloudTrail constructs. 6. Organize resources using AWS CDK with TypeScript modules for reusability constructs. 7. Use `for_each` to dynamically create resources based on input variables. 8. Ensure that AWS CDK with TypeScript configurations are clean, modular, and adhere to the DRY principle. 9. Do not hardcode any confidential information within the AWS CDK with TypeScript configurations. 10. Follow all security best practices as recommended by AWS security audits. \nExpected Output: The AWS CDK with TypeScript configurations must create the specified infrastructure within AWS when applied. The setup should pass any provided tests verifying the correctness and security of the infrastructure. All constraints should be clearly addressed within the AWS CDK with TypeScript code.","The target environment consists of multiple AWS accounts under a single organization. Each account represents a different stage of the application lifecycle: development, staging, and production. Resources include VPCs, IAM roles, S3 buckets, and other necessary AWS infrastructure components located in the us-west-2 region."
336,hard,"You are required to prepare a AWS CDK with TypeScript module that captures best security practices through Infrastructure as Code (IaC) on AWS. The module should include but not be limited to EC2, S3, IAM, and RDS resources. Follow these specific requirements: \n1. All resources must be defined in a way that they are region agnostic. \n2. Use AWS KMS to encrypt sensitive data stored across various services. \n3. Define IAM roles and policies adhering to the principle of least privilege. \n4. Each S3 bucket configured should have server-side encryption enabled. \n5. Ensure all RDS instances are configured for encryption and have automatic backups enabled.\n6. EC2 instances must utilize encrypted EBS volumes and should have public IPs only if justified.\n7. Set security groups to allow minimal required traffic.\n8. Tag all cloud resources appropriately with Environment, Owner, Project tags.\n9. Enable logging for every service that supports it.\n10. Limit the use of public IPs and key pairs for EC2 instances where not necessary.\n\nExpected output: Your solution should be a set of AWS CDK with TypeScript modules written in TypeScript that represents the aforementioned configuration rules. Ensure that the solution is validated against the AWS CDK with TypeScript syntax and that all tests pass successfully when deploying to AWS.","The infrastructure is hosted on AWS with a focus on production-ready environments. AWS CDK with TypeScript is used for provisioning, and all security best practices including encryption and IAM configurations must be adhered to. The deployment spans multiple regions but primarily operates in 'us-east-1'."
337,hard,"Your task is to set up a failure recovery and high availability infrastructure on AWS using AWS CDK with TypeScript. The setup must adhere to the following specifications: 1) Utilize AWS CDK with TypeScript modules to create a VPC with both public and private subnets distributed across different availability zones, 2) Implement auto-scaling groups to handle loads dynamically, 3) Configure an internet gateway for public subnets and a NAT gateway for private subnets to manage traffic, 4) Ensure IAM roles are configured to provide least privilege access, 5) Integrate logging and monitoring to facilitate operations and quickly identify issues, 6) Ensure configuration supports recovery from failures automatically, leveraging AWS features. Expected output: Submit your final AWS CDK with TypeScript configuration files in TypeScript format, ensuring all provisions for high availability and failure recovery are implemented. Additionally, provide documentation outlining your setup and any instructions needed for deployment.","The infrastructure is to be deployed in AWS, targeting us-east-1 and us-west-2 regions. It should lay out both public and private subnets within a virtual private cloud (VPC). Each availability zone should replicate this configuration to ensure redundancy and high availability. Naming of resources should follow the pattern 'projectname-environment-component', e.g., 'ecom-prod-webserver'."
338,hard,"Design a AWS CDK with TypeScript configuration that orchestrates the consistent setup of three AWS environments: development, staging, and production. Your solution should adhere to these requirements: \n1. Support for multiple environments, each stored in separate directories. \n2. Each environment must have a distinct AWS VPC with CIDR blocks: \n   - Development: 10.0.0.0/16 \n   - Staging: 10.1.0.0/16 \n   - Production: 10.2.0.0/16 \n3. The VPC creation logic should be abstracted using AWS CDK with TypeScript modules constructs. \n4. AWS RDS databases should be provisioned per environment with db.t2.micro instance class. \n5. Use variable files to manage environment-specific configurations efficiently. \n6. Implement AWS CDK with TypeScript workspaces for managing different environments seamlessly. \n7. Utilize AWS IAM roles to define and separate access policies for each environment. \n8. Enable logging for all RDS instances deployed in these environments. \n9. Outputs must include RDS endpoint URLs and VPC IDs for each environment. \n10. Manage your AWS CDK with TypeScript state with a CDK bootstrapping stored in AWS S3.\n\nExpected Output:\n- A directory structure with separate AWS CDK with TypeScript configurations for each environment. \n- AWS CDK with TypeScript modules for reusable infrastructure components. \n- Verified outputs for RDS endpoint URLs and VPC IDs after `AWS CDK with TypeScript apply`. \n- Working multi-environment setup confirmed via AWS CDK with TypeScript workspaces and S3 state backend.","Three AWS environments: development, staging, and production; each with its own VPC and RDS instance."
339,hard,"You are tasked with ensuring multi-environment consistency and replication of infrastructure across AWS, Azure, and GCP using AWS CDK with TypeScript. The architecture comprises a VPC/Virtual Network system where each environment has identical subnetwork configurations and security groups catering to the respective cloud provider's specific requirements. Requirements include: 1) Use AWS CDK with TypeScript to define VPCs and equivalent networking components for AWS, Azure, and GCP. 2) Implement AWS CDK with TypeScript modules such that they abstractly model these networking infrastructure setups but remain deployable with minimal adaptation across all three cloud providers. 3) Ensure that any cross-region traffic adheres to the security policies defined by the corporation. 4) The infrastructure should allow easy replication or modifications per environment with AWS CDK with TypeScript workspaces for staging, production, and development environments. \nEnsure your code passes validation with AWS CDK with TypeScript's `validate` and is plan-applicable across different cloud provider setups. Use consistent and compliant naming conventions for all resources specified.","You are setting up a multi-cloud infrastructure for a large multinational corporation that requires its application architecture to seamlessly operate on AWS, Azure, and GCP. The infrastructure must support identical setups across various regions of each provider. Ensure that all resources such as VPCs, Subnets, and Networking components follow the company's naming convention: `<env>-<region>-<resource_name>`."
